"use strict";var i=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var p=(t,e)=>{for(var a in e)i(t,a,{get:e[a],enumerable:!0})},g=(t,e,a,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of d(e))!y.call(t,r)&&r!==a&&i(t,r,{get:()=>e[r],enumerable:!(s=l(e,r))||s.enumerable});return t};var b=t=>g(i({},"__esModule",{value:!0}),t);var S={};p(S,{default:()=>D});module.exports=b(S);var n=require("@raycast/api"),u=require("node:child_process");async function c(t,e){e&&await(0,n.showHUD)(e),(0,u.execSync)("/usr/bin/killall caffeinate || true"),await m(t,!1)}async function m(t,e){t.menubar&&await o("index",{caffeinated:e}),t.status&&await o("status",{caffeinated:e})}async function o(t,e){try{await(0,n.launchCommand)({name:t,type:n.LaunchType.Background,context:e})}catch{}}function h(t){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t]}async function f(){let e=h(new Date().getDay()).toLowerCase(),a=await n.LocalStorage.getItem(e);return a===void 0?void 0:JSON.parse(a)}async function D(){if((await f())?.IsRunning)throw new Error("Cannot decaffeinate while a schedule is running. Please pause the schedule first.");return await c({menubar:!0,status:!0},void 0),"Mac sleep prevention has been disabled"}
