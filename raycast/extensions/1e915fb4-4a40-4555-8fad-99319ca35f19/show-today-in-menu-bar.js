"use strict";var $a=Object.create;var Ae=Object.defineProperty;var wa=Object.getOwnPropertyDescriptor;var Sa=Object.getOwnPropertyNames;var xa=Object.getPrototypeOf,ka=Object.prototype.hasOwnProperty;var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ea=(t,e)=>{for(var r in e)Ae(t,r,{get:e[r],enumerable:!0})},Mt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Sa(e))!ka.call(t,a)&&a!==r&&Ae(t,a,{get:()=>e[a],enumerable:!(n=wa(e,a))||n.enumerable});return t};var Q=(t,e,r)=>(r=t!=null?$a(xa(t)):{},Mt(e||!t||!t.__esModule?Ae(r,"default",{value:t,enumerable:!0}):r,t)),Aa=t=>Mt(Ae({},"__esModule",{value:!0}),t);var X=g((Es,Yt)=>{"use strict";Yt.exports=TypeError});var er=g((As,Xt)=>{Xt.exports=require("util").inspect});var ve=g((Ps,$r)=>{var ft=typeof Map=="function"&&Map.prototype,rt=Object.getOwnPropertyDescriptor&&ft?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Re=ft&&rt&&typeof rt.get=="function"?rt.get:null,tr=ft&&Map.prototype.forEach,dt=typeof Set=="function"&&Set.prototype,nt=Object.getOwnPropertyDescriptor&&dt?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,_e=dt&&nt&&typeof nt.get=="function"?nt.get:null,rr=dt&&Set.prototype.forEach,qa=typeof WeakMap=="function"&&WeakMap.prototype,me=qa?WeakMap.prototype.has:null,Ga=typeof WeakSet=="function"&&WeakSet.prototype,ge=Ga?WeakSet.prototype.has:null,Ka=typeof WeakRef=="function"&&WeakRef.prototype,nr=Ka?WeakRef.prototype.deref:null,Ha=Boolean.prototype.valueOf,Ja=Object.prototype.toString,Za=Function.prototype.toString,Qa=String.prototype.match,pt=String.prototype.slice,J=String.prototype.replace,Ya=String.prototype.toUpperCase,ar=String.prototype.toLowerCase,pr=RegExp.prototype.test,or=Array.prototype.concat,B=Array.prototype.join,Xa=Array.prototype.slice,ir=Math.floor,it=typeof BigInt=="function"?BigInt.prototype.valueOf:null,at=Object.getOwnPropertySymbols,st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,se=typeof Symbol=="function"&&typeof Symbol.iterator=="object",be=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===se||!0)?Symbol.toStringTag:null,hr=Object.prototype.propertyIsEnumerable,sr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function cr(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||pr.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-ir(-t):ir(t);if(n!==t){var a=String(n),o=pt.call(e,a.length+1);return J.call(a,r,"$&_")+"."+J.call(J.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return J.call(e,r,"$&_")}var ct=er(),lr=ct.custom,ur=gr(lr)?lr:null,yr={__proto__:null,double:'"',single:"'"},eo={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};$r.exports=function t(e,r,n,a){var o=r||{};if(H(o,"quoteStyle")&&!H(yr,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i=H(o,"customInspect")?o.customInspect:!0;if(typeof i!="boolean"&&i!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return vr(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var s=String(e);return l?cr(e,s):s}if(typeof e=="bigint"){var f=String(e)+"n";return l?cr(e,f):f}var u=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return lt(e)?"[Array]":"[Object]";var p=vo(o,n);if(typeof a>"u")a=[];else if(br(a,e)>=0)return"[Circular]";function c(R,U,v){if(U&&(a=Xa.call(a),a.push(U)),v){var L={depth:o.depth};return H(o,"quoteStyle")&&(L.quoteStyle=o.quoteStyle),t(R,L,n+1,a)}return t(R,o,n+1,a)}if(typeof e=="function"&&!fr(e)){var h=lo(e),y=Te(e,c);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(y.length>0?" { "+B.call(y,", ")+" }":"")}if(gr(e)){var b=se?J.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):st.call(e);return typeof e=="object"&&!se?ye(b):b}if(mo(e)){for(var A="<"+ar.call(String(e.nodeName)),O=e.attributes||[],M=0;M<O.length;M++)A+=" "+O[M].name+"="+mr(to(O[M].value),"double",o);return A+=">",e.childNodes&&e.childNodes.length&&(A+="..."),A+="</"+ar.call(String(e.nodeName))+">",A}if(lt(e)){if(e.length===0)return"[]";var m=Te(e,c);return p&&!bo(m)?"["+ut(m,p)+"]":"[ "+B.call(m,", ")+" ]"}if(no(e)){var x=Te(e,c);return!("cause"in Error.prototype)&&"cause"in e&&!hr.call(e,"cause")?"{ ["+String(e)+"] "+B.call(or.call("[cause]: "+c(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+B.call(x,", ")+" }"}if(typeof e=="object"&&i){if(ur&&typeof e[ur]=="function"&&ct)return ct(e,{depth:u-n});if(i!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(uo(e)){var C=[];return tr&&tr.call(e,function(R,U){C.push(c(U,e,!0)+" => "+c(R,e))}),dr("Map",Re.call(e),C,p)}if(ho(e)){var F=[];return rr&&rr.call(e,function(R){F.push(c(R,e))}),dr("Set",_e.call(e),F,p)}if(fo(e))return ot("WeakMap");if(yo(e))return ot("WeakSet");if(po(e))return ot("WeakRef");if(oo(e))return ye(c(Number(e)));if(so(e))return ye(c(it.call(e)));if(io(e))return ye(Ha.call(e));if(ao(e))return ye(c(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!ro(e)&&!fr(e)){var z=Te(e,c),ae=sr?sr(e)===Object.prototype:e instanceof Object||e.constructor===Object,K=e instanceof Object?"":"null prototype",V=!ae&&be&&Object(e)===e&&be in e?pt.call(Z(e),8,-1):K?"Object":"",N=ae||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",I=N+(V||K?"["+B.call(or.call([],V||[],K||[]),": ")+"] ":"");return z.length===0?I+"{}":p?I+"{"+ut(z,p)+"}":I+"{ "+B.call(z,", ")+" }"}return String(e)};function mr(t,e,r){var n=r.quoteStyle||e,a=yr[n];return a+t+a}function to(t){return J.call(String(t),/"/g,"&quot;")}function ee(t){return!be||!(typeof t=="object"&&(be in t||typeof t[be]<"u"))}function lt(t){return Z(t)==="[object Array]"&&ee(t)}function ro(t){return Z(t)==="[object Date]"&&ee(t)}function fr(t){return Z(t)==="[object RegExp]"&&ee(t)}function no(t){return Z(t)==="[object Error]"&&ee(t)}function ao(t){return Z(t)==="[object String]"&&ee(t)}function oo(t){return Z(t)==="[object Number]"&&ee(t)}function io(t){return Z(t)==="[object Boolean]"&&ee(t)}function gr(t){if(se)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!st)return!1;try{return st.call(t),!0}catch{}return!1}function so(t){if(!t||typeof t!="object"||!it)return!1;try{return it.call(t),!0}catch{}return!1}var co=Object.prototype.hasOwnProperty||function(t){return t in this};function H(t,e){return co.call(t,e)}function Z(t){return Ja.call(t)}function lo(t){if(t.name)return t.name;var e=Qa.call(Za.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function br(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function uo(t){if(!Re||!t||typeof t!="object")return!1;try{Re.call(t);try{_e.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function fo(t){if(!me||!t||typeof t!="object")return!1;try{me.call(t,me);try{ge.call(t,ge)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function po(t){if(!nr||!t||typeof t!="object")return!1;try{return nr.call(t),!0}catch{}return!1}function ho(t){if(!_e||!t||typeof t!="object")return!1;try{_e.call(t);try{Re.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function yo(t){if(!ge||!t||typeof t!="object")return!1;try{ge.call(t,ge);try{me.call(t,me)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function mo(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function vr(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return vr(pt.call(t,0,e.maxStringLength),e)+n}var a=eo[e.quoteStyle||"single"];a.lastIndex=0;var o=J.call(J.call(t,a,"\\$1"),/[\x00-\x1f]/g,go);return mr(o,"single",e)}function go(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Ya.call(e.toString(16))}function ye(t){return"Object("+t+")"}function ot(t){return t+" { ? }"}function dr(t,e,r,n){var a=n?ut(r,n):B.call(r,", ");return t+" ("+e+") {"+a+"}"}function bo(t){for(var e=0;e<t.length;e++)if(br(t[e],`
`)>=0)return!1;return!0}function vo(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=B.call(Array(t.indent+1)," ");else return null;return{base:r,prev:B.call(Array(e+1),r)}}function ut(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+B.call(t,","+r)+`
`+e.prev}function Te(t,e){var r=lt(t),n=[];if(r){n.length=t.length;for(var a=0;a<t.length;a++)n[a]=H(t,a)?e(t[a],t):""}var o=typeof at=="function"?at(t):[],i;if(se){i={};for(var l=0;l<o.length;l++)i["$"+o[l]]=o[l]}for(var s in t)H(t,s)&&(r&&String(Number(s))===s&&s<t.length||se&&i["$"+s]instanceof Symbol||(pr.call(/[^\w$]/,s)?n.push(e(s,t)+": "+e(t[s],t)):n.push(s+": "+e(t[s],t))));if(typeof at=="function")for(var f=0;f<o.length;f++)hr.call(t,o[f])&&n.push("["+e(o[f])+"]: "+e(t[o[f]],t));return n}});var Sr=g((Is,wr)=>{"use strict";var $o=ve(),wo=X(),Ce=function(t,e,r){for(var n=t,a;(a=n.next)!=null;n=a)if(a.key===e)return n.next=a.next,r||(a.next=t.next,t.next=a),a},So=function(t,e){if(t){var r=Ce(t,e);return r&&r.value}},xo=function(t,e,r){var n=Ce(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},ko=function(t,e){return t?!!Ce(t,e):!1},Eo=function(t,e){if(t)return Ce(t,e,!0)};wr.exports=function(){var e,r={assert:function(n){if(!r.has(n))throw new wo("Side channel does not contain "+$o(n))},delete:function(n){var a=e&&e.next,o=Eo(e,n);return o&&a&&a===o&&(e=void 0),!!o},get:function(n){return So(e,n)},has:function(n){return ko(e,n)},set:function(n,a){e||(e={next:void 0}),xo(e,n,a)}};return r}});var ht=g((Os,xr)=>{"use strict";xr.exports=Object});var Er=g((Ts,kr)=>{"use strict";kr.exports=Error});var Pr=g((Rs,Ar)=>{"use strict";Ar.exports=EvalError});var Or=g((_s,Ir)=>{"use strict";Ir.exports=RangeError});var Rr=g((Cs,Tr)=>{"use strict";Tr.exports=ReferenceError});var Cr=g((Us,_r)=>{"use strict";_r.exports=SyntaxError});var Dr=g((Ds,Ur)=>{"use strict";Ur.exports=URIError});var Nr=g((Ms,Mr)=>{"use strict";Mr.exports=Math.abs});var Fr=g((Ns,Lr)=>{"use strict";Lr.exports=Math.floor});var jr=g((Ls,Wr)=>{"use strict";Wr.exports=Math.max});var Vr=g((Fs,zr)=>{"use strict";zr.exports=Math.min});var qr=g((Ws,Br)=>{"use strict";Br.exports=Math.pow});var Kr=g((js,Gr)=>{"use strict";Gr.exports=Math.round});var Jr=g((zs,Hr)=>{"use strict";Hr.exports=Number.isNaN||function(e){return e!==e}});var Qr=g((Vs,Zr)=>{"use strict";var Ao=Jr();Zr.exports=function(e){return Ao(e)||e===0?e:e<0?-1:1}});var Xr=g((Bs,Yr)=>{"use strict";Yr.exports=Object.getOwnPropertyDescriptor});var yt=g((qs,en)=>{"use strict";var Ue=Xr();if(Ue)try{Ue([],"length")}catch{Ue=null}en.exports=Ue});var rn=g((Gs,tn)=>{"use strict";var De=Object.defineProperty||!1;if(De)try{De({},"a",{value:1})}catch{De=!1}tn.exports=De});var an=g((Ks,nn)=>{"use strict";nn.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==a||l.enumerable!==!0)return!1}return!0}});var cn=g((Hs,sn)=>{"use strict";var on=typeof Symbol<"u"&&Symbol,Po=an();sn.exports=function(){return typeof on!="function"||typeof Symbol!="function"||typeof on("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Po()}});var mt=g((Js,ln)=>{"use strict";ln.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var gt=g((Zs,un)=>{"use strict";var Io=ht();un.exports=Io.getPrototypeOf||null});var pn=g((Qs,dn)=>{"use strict";var Oo="Function.prototype.bind called on incompatible ",To=Object.prototype.toString,Ro=Math.max,_o="[object Function]",fn=function(e,r){for(var n=[],a=0;a<e.length;a+=1)n[a]=e[a];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},Co=function(e,r){for(var n=[],a=r||0,o=0;a<e.length;a+=1,o+=1)n[o]=e[a];return n},Uo=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};dn.exports=function(e){var r=this;if(typeof r!="function"||To.apply(r)!==_o)throw new TypeError(Oo+r);for(var n=Co(arguments,1),a,o=function(){if(this instanceof a){var u=r.apply(this,fn(n,arguments));return Object(u)===u?u:this}return r.apply(e,fn(n,arguments))},i=Ro(0,r.length-n.length),l=[],s=0;s<i;s++)l[s]="$"+s;if(a=Function("binder","return function ("+Uo(l,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var f=function(){};f.prototype=r.prototype,a.prototype=new f,f.prototype=null}return a}});var $e=g((Ys,hn)=>{"use strict";var Do=pn();hn.exports=Function.prototype.bind||Do});var Me=g((Xs,yn)=>{"use strict";yn.exports=Function.prototype.call});var bt=g((ec,mn)=>{"use strict";mn.exports=Function.prototype.apply});var bn=g((tc,gn)=>{"use strict";gn.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var $n=g((rc,vn)=>{"use strict";var Mo=$e(),No=bt(),Lo=Me(),Fo=bn();vn.exports=Fo||Mo.call(Lo,No)});var vt=g((nc,wn)=>{"use strict";var Wo=$e(),jo=X(),zo=Me(),Vo=$n();wn.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new jo("a function is required");return Vo(Wo,zo,e)}});var Pn=g((ac,An)=>{"use strict";var Bo=vt(),Sn=yt(),kn;try{kn=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var $t=!!kn&&Sn&&Sn(Object.prototype,"__proto__"),En=Object,xn=En.getPrototypeOf;An.exports=$t&&typeof $t.get=="function"?Bo([$t.get]):typeof xn=="function"?function(e){return xn(e==null?e:En(e))}:!1});var _n=g((oc,Rn)=>{"use strict";var In=mt(),On=gt(),Tn=Pn();Rn.exports=In?function(e){return In(e)}:On?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return On(e)}:Tn?function(e){return Tn(e)}:null});var Un=g((ic,Cn)=>{"use strict";var qo=Function.prototype.call,Go=Object.prototype.hasOwnProperty,Ko=$e();Cn.exports=Ko.call(qo,Go)});var Fe=g((sc,Wn)=>{"use strict";var $,Ho=ht(),Jo=Er(),Zo=Pr(),Qo=Or(),Yo=Rr(),fe=Cr(),ue=X(),Xo=Dr(),ei=Nr(),ti=Fr(),ri=jr(),ni=Vr(),ai=qr(),oi=Kr(),ii=Qr(),Ln=Function,wt=function(t){try{return Ln('"use strict"; return ('+t+").constructor;")()}catch{}},we=yt(),si=rn(),St=function(){throw new ue},ci=we?(function(){try{return arguments.callee,St}catch{try{return we(arguments,"callee").get}catch{return St}}})():St,ce=cn()(),_=_n(),li=gt(),ui=mt(),Fn=bt(),Se=Me(),le={},fi=typeof Uint8Array>"u"||!_?$:_(Uint8Array),te={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?$:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?$:ArrayBuffer,"%ArrayIteratorPrototype%":ce&&_?_([][Symbol.iterator]()):$,"%AsyncFromSyncIteratorPrototype%":$,"%AsyncFunction%":le,"%AsyncGenerator%":le,"%AsyncGeneratorFunction%":le,"%AsyncIteratorPrototype%":le,"%Atomics%":typeof Atomics>"u"?$:Atomics,"%BigInt%":typeof BigInt>"u"?$:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?$:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?$:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?$:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Jo,"%eval%":eval,"%EvalError%":Zo,"%Float16Array%":typeof Float16Array>"u"?$:Float16Array,"%Float32Array%":typeof Float32Array>"u"?$:Float32Array,"%Float64Array%":typeof Float64Array>"u"?$:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?$:FinalizationRegistry,"%Function%":Ln,"%GeneratorFunction%":le,"%Int8Array%":typeof Int8Array>"u"?$:Int8Array,"%Int16Array%":typeof Int16Array>"u"?$:Int16Array,"%Int32Array%":typeof Int32Array>"u"?$:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ce&&_?_(_([][Symbol.iterator]())):$,"%JSON%":typeof JSON=="object"?JSON:$,"%Map%":typeof Map>"u"?$:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ce||!_?$:_(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Ho,"%Object.getOwnPropertyDescriptor%":we,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?$:Promise,"%Proxy%":typeof Proxy>"u"?$:Proxy,"%RangeError%":Qo,"%ReferenceError%":Yo,"%Reflect%":typeof Reflect>"u"?$:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?$:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ce||!_?$:_(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?$:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ce&&_?_(""[Symbol.iterator]()):$,"%Symbol%":ce?Symbol:$,"%SyntaxError%":fe,"%ThrowTypeError%":ci,"%TypedArray%":fi,"%TypeError%":ue,"%Uint8Array%":typeof Uint8Array>"u"?$:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?$:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?$:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?$:Uint32Array,"%URIError%":Xo,"%WeakMap%":typeof WeakMap>"u"?$:WeakMap,"%WeakRef%":typeof WeakRef>"u"?$:WeakRef,"%WeakSet%":typeof WeakSet>"u"?$:WeakSet,"%Function.prototype.call%":Se,"%Function.prototype.apply%":Fn,"%Object.defineProperty%":si,"%Object.getPrototypeOf%":li,"%Math.abs%":ei,"%Math.floor%":ti,"%Math.max%":ri,"%Math.min%":ni,"%Math.pow%":ai,"%Math.round%":oi,"%Math.sign%":ii,"%Reflect.getPrototypeOf%":ui};if(_)try{null.error}catch(t){Dn=_(_(t)),te["%Error.prototype%"]=Dn}var Dn,di=function t(e){var r;if(e==="%AsyncFunction%")r=wt("async function () {}");else if(e==="%GeneratorFunction%")r=wt("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=wt("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&_&&(r=_(a.prototype))}return te[e]=r,r},Mn={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xe=$e(),Ne=Un(),pi=xe.call(Se,Array.prototype.concat),hi=xe.call(Fn,Array.prototype.splice),Nn=xe.call(Se,String.prototype.replace),Le=xe.call(Se,String.prototype.slice),yi=xe.call(Se,RegExp.prototype.exec),mi=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,gi=/\\(\\)?/g,bi=function(e){var r=Le(e,0,1),n=Le(e,-1);if(r==="%"&&n!=="%")throw new fe("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new fe("invalid intrinsic syntax, expected opening `%`");var a=[];return Nn(e,mi,function(o,i,l,s){a[a.length]=l?Nn(s,gi,"$1"):i||o}),a},vi=function(e,r){var n=e,a;if(Ne(Mn,n)&&(a=Mn[n],n="%"+a[0]+"%"),Ne(te,n)){var o=te[n];if(o===le&&(o=di(n)),typeof o>"u"&&!r)throw new ue("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new fe("intrinsic "+e+" does not exist!")};Wn.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new ue("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ue('"allowMissing" argument must be a boolean');if(yi(/^%?[^%]*%?$/,e)===null)throw new fe("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=bi(e),a=n.length>0?n[0]:"",o=vi("%"+a+"%",r),i=o.name,l=o.value,s=!1,f=o.alias;f&&(a=f[0],hi(n,pi([0,1],f)));for(var u=1,p=!0;u<n.length;u+=1){var c=n[u],h=Le(c,0,1),y=Le(c,-1);if((h==='"'||h==="'"||h==="`"||y==='"'||y==="'"||y==="`")&&h!==y)throw new fe("property names with quotes must have matching quotes");if((c==="constructor"||!p)&&(s=!0),a+="."+c,i="%"+a+"%",Ne(te,i))l=te[i];else if(l!=null){if(!(c in l)){if(!r)throw new ue("base intrinsic for "+e+" exists, but the property is not available.");return}if(we&&u+1>=n.length){var b=we(l,c);p=!!b,p&&"get"in b&&!("originalValue"in b.get)?l=b.get:l=l[c]}else p=Ne(l,c),l=l[c];p&&!s&&(te[i]=l)}}return l}});var xt=g((cc,Vn)=>{"use strict";var jn=Fe(),zn=vt(),$i=zn([jn("%String.prototype.indexOf%")]);Vn.exports=function(e,r){var n=jn(e,!!r);return typeof n=="function"&&$i(e,".prototype.")>-1?zn([n]):n}});var kt=g((lc,qn)=>{"use strict";var wi=Fe(),ke=xt(),Si=ve(),xi=X(),Bn=wi("%Map%",!0),ki=ke("Map.prototype.get",!0),Ei=ke("Map.prototype.set",!0),Ai=ke("Map.prototype.has",!0),Pi=ke("Map.prototype.delete",!0),Ii=ke("Map.prototype.size",!0);qn.exports=!!Bn&&function(){var e,r={assert:function(n){if(!r.has(n))throw new xi("Side channel does not contain "+Si(n))},delete:function(n){if(e){var a=Pi(e,n);return Ii(e)===0&&(e=void 0),a}return!1},get:function(n){if(e)return ki(e,n)},has:function(n){return e?Ai(e,n):!1},set:function(n,a){e||(e=new Bn),Ei(e,n,a)}};return r}});var Kn=g((uc,Gn)=>{"use strict";var Oi=Fe(),je=xt(),Ti=ve(),We=kt(),Ri=X(),de=Oi("%WeakMap%",!0),_i=je("WeakMap.prototype.get",!0),Ci=je("WeakMap.prototype.set",!0),Ui=je("WeakMap.prototype.has",!0),Di=je("WeakMap.prototype.delete",!0);Gn.exports=de?function(){var e,r,n={assert:function(a){if(!n.has(a))throw new Ri("Side channel does not contain "+Ti(a))},delete:function(a){if(de&&a&&(typeof a=="object"||typeof a=="function")){if(e)return Di(e,a)}else if(We&&r)return r.delete(a);return!1},get:function(a){return de&&a&&(typeof a=="object"||typeof a=="function")&&e?_i(e,a):r&&r.get(a)},has:function(a){return de&&a&&(typeof a=="object"||typeof a=="function")&&e?Ui(e,a):!!r&&r.has(a)},set:function(a,o){de&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new de),Ci(e,a,o)):We&&(r||(r=We()),r.set(a,o))}};return n}:We});var Jn=g((fc,Hn)=>{"use strict";var Mi=X(),Ni=ve(),Li=Sr(),Fi=kt(),Wi=Kn(),ji=Wi||Fi||Li;Hn.exports=function(){var e,r={assert:function(n){if(!r.has(n))throw new Mi("Side channel does not contain "+Ni(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,a){e||(e=ji()),e.set(n,a)}};return r}});var ze=g((dc,Zn)=>{"use strict";var zi=String.prototype.replace,Vi=/%20/g,Et={RFC1738:"RFC1738",RFC3986:"RFC3986"};Zn.exports={default:Et.RFC3986,formatters:{RFC1738:function(t){return zi.call(t,Vi,"+")},RFC3986:function(t){return String(t)}},RFC1738:Et.RFC1738,RFC3986:Et.RFC3986}});var It=g((pc,Yn)=>{"use strict";var Bi=ze(),At=Object.prototype.hasOwnProperty,re=Array.isArray,q=(function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),qi=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(re(n)){for(var a=[],o=0;o<n.length;++o)typeof n[o]<"u"&&a.push(n[o]);r.obj[r.prop]=a}}},Qn=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},a=0;a<e.length;++a)typeof e[a]<"u"&&(n[a]=e[a]);return n},Gi=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(re(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!At.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var a=e;return re(e)&&!re(r)&&(a=Qn(e,n)),re(e)&&re(r)?(r.forEach(function(o,i){if(At.call(e,i)){var l=e[i];l&&typeof l=="object"&&o&&typeof o=="object"?e[i]=t(l,o,n):e.push(o)}else e[i]=o}),e):Object.keys(r).reduce(function(o,i){var l=r[i];return At.call(o,i)?o[i]=t(o[i],l,n):o[i]=l,o},a)},Ki=function(e,r){return Object.keys(r).reduce(function(n,a){return n[a]=r[a],n},e)},Hi=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Pt=1024,Ji=function(e,r,n,a,o){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var l="",s=0;s<i.length;s+=Pt){for(var f=i.length>=Pt?i.slice(s,s+Pt):i,u=[],p=0;p<f.length;++p){var c=f.charCodeAt(p);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||o===Bi.RFC1738&&(c===40||c===41)){u[u.length]=f.charAt(p);continue}if(c<128){u[u.length]=q[c];continue}if(c<2048){u[u.length]=q[192|c>>6]+q[128|c&63];continue}if(c<55296||c>=57344){u[u.length]=q[224|c>>12]+q[128|c>>6&63]+q[128|c&63];continue}p+=1,c=65536+((c&1023)<<10|f.charCodeAt(p)&1023),u[u.length]=q[240|c>>18]+q[128|c>>12&63]+q[128|c>>6&63]+q[128|c&63]}l+=u.join("")}return l},Zi=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],a=0;a<r.length;++a)for(var o=r[a],i=o.obj[o.prop],l=Object.keys(i),s=0;s<l.length;++s){var f=l[s],u=i[f];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:i,prop:f}),n.push(u))}return qi(r),e},Qi=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Yi=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Xi=function(e,r){return[].concat(e,r)},es=function(e,r){if(re(e)){for(var n=[],a=0;a<e.length;a+=1)n.push(r(e[a]));return n}return r(e)};Yn.exports={arrayToObject:Qn,assign:Ki,combine:Xi,compact:Zi,decode:Hi,encode:Ji,isBuffer:Yi,isRegExp:Qi,maybeMap:es,merge:Gi}});var aa=g((hc,na)=>{"use strict";var ea=Jn(),Ve=It(),Ee=ze(),ts=Object.prototype.hasOwnProperty,ta={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},G=Array.isArray,rs=Array.prototype.push,ra=function(t,e){rs.apply(t,G(e)?e:[e])},ns=Date.prototype.toISOString,Xn=Ee.default,T={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Ve.encode,encodeValuesOnly:!1,filter:void 0,format:Xn,formatter:Ee.formatters[Xn],indices:!1,serializeDate:function(e){return ns.call(e)},skipNulls:!1,strictNullHandling:!1},as=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ot={},os=function t(e,r,n,a,o,i,l,s,f,u,p,c,h,y,b,A,O,M){for(var m=e,x=M,C=0,F=!1;(x=x.get(Ot))!==void 0&&!F;){var z=x.get(e);if(C+=1,typeof z<"u"){if(z===C)throw new RangeError("Cyclic object value");F=!0}typeof x.get(Ot)>"u"&&(C=0)}if(typeof u=="function"?m=u(r,m):m instanceof Date?m=h(m):n==="comma"&&G(m)&&(m=Ve.maybeMap(m,function(Ke){return Ke instanceof Date?h(Ke):Ke})),m===null){if(i)return f&&!A?f(r,T.encoder,O,"key",y):r;m=""}if(as(m)||Ve.isBuffer(m)){if(f){var ae=A?r:f(r,T.encoder,O,"key",y);return[b(ae)+"="+b(f(m,T.encoder,O,"value",y))]}return[b(r)+"="+b(String(m))]}var K=[];if(typeof m>"u")return K;var V;if(n==="comma"&&G(m))A&&f&&(m=Ve.maybeMap(m,f)),V=[{value:m.length>0?m.join(",")||null:void 0}];else if(G(u))V=u;else{var N=Object.keys(m);V=p?N.sort(p):N}var I=s?String(r).replace(/\./g,"%2E"):String(r),R=a&&G(m)&&m.length===1?I+"[]":I;if(o&&G(m)&&m.length===0)return R+"[]";for(var U=0;U<V.length;++U){var v=V[U],L=typeof v=="object"&&v&&typeof v.value<"u"?v.value:m[v];if(!(l&&L===null)){var he=c&&s?String(v).replace(/\./g,"%2E"):String(v),Ge=G(m)?typeof n=="function"?n(R,he):R:R+(c?"."+he:"["+he+"]");M.set(e,C);var Dt=ea();Dt.set(Ot,M),ra(K,t(L,Ge,n,a,o,i,l,s,n==="comma"&&A&&G(m)?null:f,u,p,c,h,y,b,A,O,Dt))}}return K},is=function(e){if(!e)return T;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||T.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ee.default;if(typeof e.format<"u"){if(!ts.call(Ee.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var a=Ee.formatters[n],o=T.filter;(typeof e.filter=="function"||G(e.filter))&&(o=e.filter);var i;if(e.arrayFormat in ta?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=T.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:T.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:T.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:T.allowEmptyArrays,arrayFormat:i,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:T.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?T.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:T.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:T.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:T.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:T.encodeValuesOnly,filter:o,format:n,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:T.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:T.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:T.strictNullHandling}};na.exports=function(t,e){var r=t,n=is(e),a,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):G(n.filter)&&(o=n.filter,a=o);var i=[];if(typeof r!="object"||r===null)return"";var l=ta[n.arrayFormat],s=l==="comma"&&n.commaRoundTrip;a||(a=Object.keys(r)),n.sort&&a.sort(n.sort);for(var f=ea(),u=0;u<a.length;++u){var p=a[u],c=r[p];n.skipNulls&&c===null||ra(i,os(c,p,l,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var h=i.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),h.length>0?y+h:""}});var ca=g((yc,sa)=>{"use strict";var ne=It(),Tt=Object.prototype.hasOwnProperty,oa=Array.isArray,P={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ne.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},ss=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},ia=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},cs="utf8=%26%2310003%3B",ls="utf8=%E2%9C%93",us=function(e,r){var n={__proto__:null},a=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;a=a.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=r.parameterLimit===1/0?void 0:r.parameterLimit,i=a.split(r.delimiter,r.throwOnLimitExceeded?o+1:o);if(r.throwOnLimitExceeded&&i.length>o)throw new RangeError("Parameter limit exceeded. Only "+o+" parameter"+(o===1?"":"s")+" allowed.");var l=-1,s,f=r.charset;if(r.charsetSentinel)for(s=0;s<i.length;++s)i[s].indexOf("utf8=")===0&&(i[s]===ls?f="utf-8":i[s]===cs&&(f="iso-8859-1"),l=s,s=i.length);for(s=0;s<i.length;++s)if(s!==l){var u=i[s],p=u.indexOf("]="),c=p===-1?u.indexOf("="):p+1,h,y;c===-1?(h=r.decoder(u,P.decoder,f,"key"),y=r.strictNullHandling?null:""):(h=r.decoder(u.slice(0,c),P.decoder,f,"key"),y=ne.maybeMap(ia(u.slice(c+1),r,oa(n[h])?n[h].length:0),function(A){return r.decoder(A,P.decoder,f,"value")})),y&&r.interpretNumericEntities&&f==="iso-8859-1"&&(y=ss(String(y))),u.indexOf("[]=")>-1&&(y=oa(y)?[y]:y);var b=Tt.call(n,h);b&&r.duplicates==="combine"?n[h]=ne.combine(n[h],y):(!b||r.duplicates==="last")&&(n[h]=y)}return n},fs=function(t,e,r,n){var a=0;if(t.length>0&&t[t.length-1]==="[]"){var o=t.slice(0,-1).join("");a=Array.isArray(e)&&e[o]?e[o].length:0}for(var i=n?e:ia(e,r,a),l=t.length-1;l>=0;--l){var s,f=t[l];if(f==="[]"&&r.parseArrays)s=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:ne.combine([],i);else{s=r.plainObjects?{__proto__:null}:{};var u=f.charAt(0)==="["&&f.charAt(f.length-1)==="]"?f.slice(1,-1):f,p=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,c=parseInt(p,10);!r.parseArrays&&p===""?s={0:i}:!isNaN(c)&&f!==p&&String(c)===p&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[],s[c]=i):p!=="__proto__"&&(s[p]=i)}i=s}return i},ds=function(e,r,n,a){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,s=n.depth>0&&i.exec(o),f=s?o.slice(0,s.index):o,u=[];if(f){if(!n.plainObjects&&Tt.call(Object.prototype,f)&&!n.allowPrototypes)return;u.push(f)}for(var p=0;n.depth>0&&(s=l.exec(o))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&Tt.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}if(s){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");u.push("["+o.slice(s.index)+"]")}return fs(u,r,n,a)}},ps=function(e){if(!e)return P;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?P.charset:e.charset,n=typeof e.duplicates>"u"?P.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:P.allowDots:!!e.allowDots;return{allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:P.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:P.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:P.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:P.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:P.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:P.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:P.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:P.decoder,delimiter:typeof e.delimiter=="string"||ne.isRegExp(e.delimiter)?e.delimiter:P.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:P.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:P.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:P.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:P.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:P.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:P.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}};sa.exports=function(t,e){var r=ps(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?us(t,r):t,a=r.plainObjects?{__proto__:null}:{},o=Object.keys(n),i=0;i<o.length;++i){var l=o[i],s=ds(l,n[l],r,typeof t=="string");a=ne.merge(a,s,r)}return r.allowSparse===!0?a:ne.compact(a)}});var ua=g((mc,la)=>{"use strict";var hs=aa(),ys=ca(),ms=ze();la.exports={formats:ms,parse:ys,stringify:hs}});var $s={};Ea($s,{default:()=>va});module.exports=Aa($s);var d=require("@raycast/api");var S=Q(require("react")),E=require("@raycast/api");var Nt=Object.prototype.hasOwnProperty;function Pe(t,e){var r,n;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&Pe(t[n],e[n]););return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(Nt.call(t,r)&&++n&&!Nt.call(e,r)||!(r in e)||!Pe(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}var Y=Q(require("node:fs")),Oe=Q(require("node:path")),qt=Q(require("node:crypto")),Gt=Q(require("node:child_process")),Kt=require("node:buffer"),ie=Q(require("node:stream")),Ht=require("node:util");var Jt=require("react/jsx-runtime");var He=globalThis;function Pa(t){let e=(0,S.useRef)(t),r=(0,S.useRef)(0);return Pe(t,e.current)||(e.current=t,r.current+=1),(0,S.useMemo)(()=>e.current,[r.current])}function W(t){let e=(0,S.useRef)(t);return e.current=t,e}function Ia(t,e){let r=t instanceof Error?t.message:String(t);return(0,E.showToast)({style:E.Toast.Style.Failure,title:e?.title??"Something went wrong",message:e?.message??r,primaryAction:e?.primaryAction??Lt(t),secondaryAction:e?.primaryAction?Lt(t):void 0})}var Lt=t=>{let e=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,Y.readFileSync)((0,Oe.join)(E.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(e=!1)}catch{}let a=E.environment.isDevelopment||e,o=t instanceof Error?t?.stack||t?.message||"":String(t);return{title:a?"Copy Logs":"Report Error",onAction(i){i.hide(),a?E.Clipboard.copy(o):(0,E.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${o}
\`\`\`
`)}`)}}};function Oa(t,e,r){let n=(0,S.useRef)(0),[a,o]=(0,S.useState)({isLoading:!0}),i=W(t),l=W(r?.abortable),s=W(e||[]),f=W(r?.onError),u=W(r?.onData),p=W(r?.onWillExecute),c=W(r?.failureToastOptions),h=W(a.data),y=(0,S.useRef)(null),b=(0,S.useRef)({page:0}),A=(0,S.useRef)(!1),O=(0,S.useRef)(!0),M=(0,S.useRef)(50),m=(0,S.useCallback)(()=>(l.current&&(l.current.current?.abort(),l.current.current=new AbortController),++n.current),[l]),x=(0,S.useCallback)((...N)=>{let I=m();p.current?.(N),o(v=>({...v,isLoading:!0}));let R=Ta(i.current)(...N);function U(v){return v.name=="AbortError"||I===n.current&&(f.current?f.current(v):E.environment.launchType!==E.LaunchType.Background&&Ia(v,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(L){L.hide(),y.current?.(...s.current||[])}},...c.current}),o({error:v,isLoading:!1})),v}return typeof R=="function"?(A.current=!0,R(b.current).then(({data:v,hasMore:L,cursor:he})=>(I===n.current&&(b.current&&(b.current.cursor=he,b.current.lastItem=v?.[v.length-1]),u.current&&u.current(v,b.current),L&&(M.current=v.length),O.current=L,o(Ge=>b.current.page===0?{data:v,isLoading:!1}:{data:(Ge.data||[])?.concat(v),isLoading:!1})),v),v=>(O.current=!1,U(v)))):(A.current=!1,R.then(v=>(I===n.current&&(u.current&&u.current(v),o({data:v,isLoading:!1})),v),U))},[u,f,s,i,o,y,p,b,c,m]);y.current=x;let C=(0,S.useCallback)(()=>{b.current={page:0};let N=s.current||[];return x(...N)},[x,s]),F=(0,S.useCallback)(async(N,I)=>{let R;try{if(I?.optimisticUpdate){m(),typeof I?.rollbackOnError!="function"&&I?.rollbackOnError!==!1&&(R=structuredClone(h.current?.value));let U=I.optimisticUpdate;o(v=>({...v,data:U(v.data)}))}return await N}catch(U){if(typeof I?.rollbackOnError=="function"){let v=I.rollbackOnError;o(L=>({...L,data:v(L.data)}))}else I?.optimisticUpdate&&I?.rollbackOnError!==!1&&o(v=>({...v,data:R}));throw U}finally{I?.shouldRevalidateAfter!==!1&&(E.environment.launchType===E.LaunchType.Background||E.environment.commandMode==="menu-bar"?await C():C())}},[C,h,o,m]),z=(0,S.useCallback)(()=>{b.current.page+=1;let N=s.current||[];x(...N)},[b,s,x]);(0,S.useEffect)(()=>{b.current={page:0},r?.execute!==!1?x(...e||[]):m()},[Pa([e,r?.execute,x]),l,b]),(0,S.useEffect)(()=>()=>{m()},[m]);let ae=r?.execute!==!1?a.isLoading:!1,K={...a,isLoading:ae},V=A.current?{pageSize:M.current,hasMore:O.current,onLoadMore:z}:void 0;return{...K,revalidate:C,mutate:F,pagination:V}}function Ta(t){return t===Promise.all||t===Promise.race||t===Promise.resolve||t===Promise.reject?t.bind(Promise):t}function Ft(t){return typeof t!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(t))!==null}function Ra(t){return t instanceof URLSearchParams?t.toString():t}function Zt(t,e=[]){function r(n){return"update"in t?t.update(n,"utf8"):t.write(n)}return{dispatch:function(n){n=Ra(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let a=/\[object (.*)\]/i,o=Object.prototype.toString.call(n),i=a.exec(o)?.[1]??"unknown:["+o+"]";i=i.toLowerCase();let l=null;if((l=e.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+l+"]");return}else e.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let s=Object.keys(n);s=s.sort(),Ft(n)||s.splice(0,0,"prototype","__proto__","constructor"),r("object:"+s.length+":");let f=this;return s.forEach(function(u){f.dispatch(u),r(":"),f.dispatch(n[u]),r(",")})}},_array:function(n,a){a=typeof a<"u"?a:!1;let o=this;if(r("array:"+n.length+":"),!a||n.length<=1){n.forEach(function(s){o.dispatch(s)});return}let i=[],l=n.map(function(s){let f=_a(),u=e.slice();return Zt(f,u).dispatch(s),i=i.concat(u.slice(e.length)),f.read().toString()});e=e.concat(i),l.sort(),this._array(l,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),Ft(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let a=Array.from(n);this._array(a,!0)},_set:function(n){r("set:");let a=Array.from(n);this._array(a,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function _a(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}function Ca(t,e){let r=this[t];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:e}function Ua(t,e){return typeof e=="string"&&e.startsWith("__raycast_cached_date__")?new Date(e.replace("__raycast_cached_date__","")):typeof e=="string"&&e.startsWith("__raycast_cached_buffer__")?Buffer.from(e.replace("__raycast_cached_buffer__",""),"base64"):e}function Wt(t){let e=qt.default.createHash("sha1");return Zt(e).dispatch(t),e.digest("hex")}var Da=Symbol("cache without namespace"),jt=new Map;function Ma(t,e,r){let n=r?.cacheNamespace||Da,a=jt.get(n)||jt.set(n,new E.Cache({namespace:r?.cacheNamespace})).get(n);if(!a)throw new Error("Missing cache");let o=W(t),i=W(e),l=(0,S.useSyncExternalStore)(a.subscribe,()=>{try{return a.get(o.current)}catch(p){console.error("Could not get Cache data:",p);return}}),s=(0,S.useMemo)(()=>{if(typeof l<"u"){if(l==="undefined")return;try{return JSON.parse(l,Ua)}catch(p){return console.warn("The cached data is corrupted",p),i.current}}else return i.current},[l,i]),f=W(s),u=(0,S.useCallback)(p=>{let c=typeof p=="function"?p(f.current):p;if(typeof c>"u")a.set(o.current,"undefined");else{let h=JSON.stringify(c,Ca);a.set(o.current,h)}return c},[a,o,f]);return[s,u]}var oe=Symbol();function tt(t,e,r){let{initialData:n,keepPreviousData:a,internal_cacheKeySuffix:o,...i}=r||{},l=(0,S.useRef)(null),[s,f]=Ma(Wt(e||[])+o,oe,{cacheNamespace:Wt(t)}),u=(0,S.useRef)(s!==oe?s:n),p=(0,S.useRef)(void 0),{mutate:c,revalidate:h,...y}=Oa(t,e||[],{...i,onData(m,x){p.current=x,i.onData&&i.onData(m,x),!(x&&x.page>0)&&(l.current="promise",u.current=m,f(m))}}),b,A=y.pagination;p.current&&p.current.page>0&&y.data?b=y.data:l.current==="promise"?b=u.current:a&&s!==oe?(b=s,A&&(A.hasMore=!0,A.pageSize=s.length)):a&&s===oe?b=u.current:s!==oe?(b=s,A&&(A.hasMore=!0,A.pageSize=s.length)):b=n;let O=W(b),M=(0,S.useCallback)(async(m,x)=>{let C;try{if(x?.optimisticUpdate){typeof x?.rollbackOnError!="function"&&x?.rollbackOnError!==!1&&(C=structuredClone(O.current));let F=x.optimisticUpdate(O.current);l.current="cache",u.current=F,f(F)}return await c(m,{shouldRevalidateAfter:x?.shouldRevalidateAfter})}catch(F){if(typeof x?.rollbackOnError=="function"){let z=x.rollbackOnError(O.current);l.current="cache",u.current=z,f(z)}else x?.optimisticUpdate&&x?.rollbackOnError!==!1&&(l.current="cache",u.current=C,f(C));throw F}},[f,c,O,u,l]);return(0,S.useEffect)(()=>{s!==oe&&(l.current="cache",u.current=s)},[s]),{data:b,isLoading:y.isLoading,error:y.error,mutate:p.current&&p.current.page>0?c:M,pagination:A,revalidate:h}}var Ie=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",Je=Symbol.for("signal-exit emitter"),Qe=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),He[Je])return He[Je];Object.defineProperty(He,Je,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,r){this.listeners[e].push(r)}removeListener(e,r){let n=this.listeners[e],a=n.indexOf(r);a!==-1&&(a===0&&n.length===1?n.length=0:n.splice(a,1))}emit(e,r,n){if(this.emitted[e])return!1;this.emitted[e]=!0;let a=!1;for(let o of this.listeners[e])a=o(r,n)===!0||a;return e==="exit"&&(a=this.emit("afterExit",r,n)||a),a}},Ye=class{onExit(){return()=>{}}load(){}unload(){}},Xe=class{#s;#t;#e;#o;#i;#a;#n;#r;constructor(e){this.#s=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new Qe,this.#a={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=e,this.#a={};for(let r of this.#r)this.#a[r]=()=>{let n=this.#e.listeners(r),{count:a}=this.#t,o=e;if(typeof o.__signal_exit_emitter__=="object"&&typeof o.__signal_exit_emitter__.count=="number"&&(a+=o.__signal_exit_emitter__.count),n.length===a){this.unload();let i=this.#t.emit("exit",null,r),l=r==="SIGHUP"?this.#s:r;i||e.kill(e.pid,l)}};this.#i=e.reallyExit,this.#o=e.emit}onExit(e,r){if(!Ie(this.#e))return()=>{};this.#n===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,e),()=>{this.#t.removeListener(n,e),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let e of this.#r)try{let r=this.#a[e];r&&this.#e.on(e,r)}catch{}this.#e.emit=(e,...r)=>this.#l(e,...r),this.#e.reallyExit=e=>this.#c(e)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(e=>{let r=this.#a[e];if(!r)throw new Error("Listener not defined for signal: "+e);try{this.#e.removeListener(e,r)}catch{}}),this.#e.emit=this.#o,this.#e.reallyExit=this.#i,this.#t.count-=1)}#c(e){return Ie(this.#e)?(this.#e.exitCode=e||0,this.#t.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#l(e,...r){let n=this.#o;if(e==="exit"&&Ie(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let a=n.call(this.#e,e,...r);return this.#t.emit("exit",this.#e.exitCode,null),a}else return n.call(this.#e,e,...r)}},Ze=null,Na=(t,e)=>(Ze||(Ze=Ie(process)?new Xe(process):new Ye),Ze.onExit(t,e));function La(t,{timeout:e}={}){let r=new Promise((l,s)=>{t.on("exit",(f,u)=>{l({exitCode:f,signal:u,timedOut:!1})}),t.on("error",f=>{s(f)}),t.stdin&&t.stdin.on("error",f=>{s(f)})}),n=Na(()=>{t.kill()});if(e===0||e===void 0)return r.finally(()=>n());let a,o=new Promise((l,s)=>{a=setTimeout(()=>{t.kill("SIGTERM"),s(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},e)}),i=r.finally(()=>{clearTimeout(a)});return Promise.race([o,i]).finally(()=>n())}var et=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function Fa(t){let{encoding:e}=t,r=e==="buffer",n=new ie.default.PassThrough({objectMode:!1});e&&e!=="buffer"&&n.setEncoding(e);let a=0,o=[];return n.on("data",i=>{o.push(i),a+=i.length}),n.getBufferedValue=()=>r?Buffer.concat(o,a):o.join(""),n.getBufferedLength=()=>a,n}async function zt(t,e){let r=Fa(e);return await new Promise((n,a)=>{let o=i=>{i&&r.getBufferedLength()<=Kt.constants.MAX_LENGTH&&(i.bufferedData=r.getBufferedValue()),a(i)};(async()=>{try{await(0,Ht.promisify)(ie.default.pipeline)(t,r),n()}catch(i){o(i)}})(),r.on("data",()=>{r.getBufferedLength()>8e7&&o(new et)})}),r.getBufferedValue()}async function Vt(t,e){t.destroy();try{return await e}catch(r){return r.bufferedData}}async function Wa({stdout:t,stderr:e},{encoding:r},n){let a=zt(t,{encoding:r}),o=zt(e,{encoding:r});try{return await Promise.all([n,a,o])}catch(i){return Promise.all([{error:i,exitCode:null,signal:i.signal,timedOut:i.timedOut||!1},Vt(t,a),Vt(e,o)])}}function ja(t){let e=typeof t=="string"?`
`:10,r=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===r&&(t=t.slice(0,-1)),t}function Bt(t,e){return t.stripFinalNewline?ja(e):e}function za({timedOut:t,timeout:e,signal:r,exitCode:n}){return t?`timed out after ${e} milliseconds`:r!=null?`was killed with ${r}`:n!=null?`failed with exit code ${n}`:"failed"}function Va({stdout:t,stderr:e,error:r,signal:n,exitCode:a,command:o,timedOut:i,options:l,parentError:s}){let u=`Command ${za({timedOut:i,timeout:l?.timeout,signal:n,exitCode:a})}: ${o}`,p=r?`${u}
${r.message}`:u,c=[p,e,t].filter(Boolean).join(`
`);return r?r.originalMessage=r.message:r=s,r.message=c,r.shortMessage=p,r.command=o,r.exitCode=a,r.signal=n,r.stdout=t,r.stderr=e,"bufferedData"in r&&delete r.bufferedData,r}function Ba({stdout:t,stderr:e,error:r,exitCode:n,signal:a,timedOut:o,command:i,options:l,parentError:s}){if(r||n!==0||a!==null)throw Va({error:r,exitCode:n,signal:a,stdout:t,stderr:e,command:i,timedOut:o,options:l,parentError:s});return t}async function Qt(t,e,r){if(process.platform!=="darwin")throw new Error("AppleScript is only supported on macOS");let{humanReadableOutput:n,language:a,timeout:o,...i}=Array.isArray(e)?r||{}:e||{},l=n!==!1?[]:["-ss"];a==="JavaScript"&&l.push("-l","JavaScript"),Array.isArray(e)&&l.push("-",...e);let s=Gt.default.spawn("osascript",l,{...i,env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin"}}),f=La(s,{timeout:o??1e4});s.stdin.end(t);let[{error:u,exitCode:p,signal:c,timedOut:h},y,b]=await Wa(s,{encoding:"utf8"},f),A=Bt({stripFinalNewline:!0},y),O=Bt({stripFinalNewline:!0},b);return Ba({stdout:A,stderr:O,error:u,exitCode:p,signal:c,timedOut:h,command:"osascript",options:r,parentError:new Error})}var fa=require("child_process"),da=require("util"),j=require("@raycast/api");var Rt=Q(ua()),Be=(0,j.getPreferenceValues)(),pe=class extends Error{constructor(r,n,a){super(r);this.type=n;this.originalError=a;this.name="ThingsError"}},qe=async t=>{try{let e=await Qt(`(function(){${t}})()`,{humanReadableOutput:!1,language:"JavaScript"});return e?JSON.parse(e.replace(/:\s*undefined/g,": null")):void 0}catch(e){let n=(typeof e=="string"?e:e instanceof Error?e.message:String(e)).replace("execution error: Error: ","");throw n.match(/Application can't be found/i)?new pe("Things application not found. Please make sure Things is installed and running.","APP_NOT_FOUND",n):n.match(/not allowed assistive access/i)||n.match(/permission/i)||n.match(/-1743/)?new pe("Permission denied. Please grant Raycast access to Things in System Settings > Privacy & Security > Automation > Raycast > Things.","PERMISSION_DENIED",n):n.match(/doesn't understand/i)||n.match(/can't get/i)?new pe("Things automation interface error. This might be due to a Things version incompatibility or the app not being ready.","EXECUTION_ERROR",n):new pe(`Unexpected error: ${n}`,"UNKNOWN_ERROR",n)}},gs={inbox:"TMInboxListSource",today:"TMTodayListSource",anytime:"TMNextListSource",upcoming:"TMCalendarListSource",someday:"TMSomedayListSource",logbook:"TMLogbookListSource",trash:"TMTrashListSource"},pa=t=>qe(`
  const things = Application('${Be.thingsAppIdentifier}');
  const todos = things.lists.byId('${gs[t]}').toDos();

  return todos.map(todo => ({
    id: todo.id(),
    name: todo.name(),
    status: todo.status(),
    notes: todo.notes(),
    tags: todo.tagNames(),
    dueDate: todo.dueDate() && todo.dueDate().toISOString(),
    activationDate: todo.activationDate() && todo.activationDate().toISOString(),
    isProject: todo.properties().pcls === "project",
    project: todo.project() && {
      id: todo.project().id(),
      name: todo.project().name(),
      status: todo.project().status(),
      tags: todo.project().tagNames(),
      dueDate: todo.project().dueDate() && todo.project().dueDate().toISOString(),
      activationDate: todo.project().activationDate() && todo.project().activationDate().toISOString(),
      area: todo.project().area() && {
        id: todo.project().area().id(),
        name: todo.project().area().name(),
        tags: todo.project().area().tagNames(),
      },
    },
    area: todo.area() && {
      id: todo.area().id(),
      name: todo.area().name(),
      tags: todo.area().tagNames(),
    },
  }));
`);var ha=(t,e,r)=>qe(`
  const things = Application('${Be.thingsAppIdentifier}');
  things.toDos.byId('${t}').${e} = '${r}';
`);var bs=async()=>qe(`
    const things = Application('${Be.thingsAppIdentifier}');
    const projects = things.projects();

    return projects.map(project => ({
      id: project.id(),
      name: project.name(),
      status: project.status(),
      notes: project.notes(),
      tags: project.tagNames(),
      dueDate: project.dueDate() && project.dueDate().toISOString(),
      activationDate: project.activationDate() && project.activationDate().toISOString(),
      area: project.area() && {
        id: project.area().id(),
        name: project.area().name(),
        tags: project.area().tagNames(),
      },
      todos: project.toDos().map(todo => ({
        id: todo.id(),
        name: todo.name(),
        status: todo.status(),
        notes: todo.notes(),
        tags: todo.tagNames(),
        dueDate: todo.dueDate() && todo.dueDate().toISOString(),
        activationDate: todo.activationDate() && todo.activationDate().toISOString(),
      }))
    }));
  `),vs=async()=>qe(`
    const things = Application('${Be.thingsAppIdentifier}');
    const areas = things.areas();

    return areas.map(area => ({
      id: area.id(),
      name: area.name(),
      tags: area.tagNames(),
      todos: area.toDos().map(todo => ({
        id: todo.id(),
        name: todo.name(),
        status: todo.status(),
        notes: todo.notes(),
        tags: todo.tagNames(),
        dueDate: todo.dueDate() && todo.dueDate().toISOString(),
        activationDate: todo.activationDate() && todo.activationDate().toISOString(),
        isProject: todo.properties().pcls === "project",
      }))
    }));
  `),ya=async()=>{let t=await bs()||[],e=await vs()||[],r=t.filter(a=>!a.area).map(a=>({...a,type:"project"})),n=[];return e.forEach(a=>{n.push({...a,type:"area"});let o=t.filter(i=>i.area&&i.area.id===a.id).map(i=>({...i,type:"project"}));n.push(...o)}),[...r,...n]};async function ma(t){await(0,da.promisify)(fa.exec)(`open -g "${t}"`)}async function _t(t,e){let{authToken:r}=(0,j.getPreferenceValues)();if(!r)throw new Error("unauthorized");await ma(`things:///update?${Rt.default.stringify({"auth-token":r,id:t,...e})}`)}async function Ct(t,e){let{authToken:r}=(0,j.getPreferenceValues)();if(!r)throw new Error("unauthorized");await ma(`things:///update-project?${Rt.default.stringify({"auth-token":r,id:t,...e})}`)}function Ut(t,e){if(t instanceof Error&&t.message==="unauthorized"){(0,j.showToast)({style:j.Toast.Style.Failure,title:"This action needs an authentication token.",message:`Please set it in the extension preferences.
You can find your unique token in Things\u2019 settings. go to Things \u2192 Settings \u2192 General \u2192 Enable Things URLs \u2192 Manage`,primaryAction:{title:"Open Extension Preferences",onAction(r){(0,j.openExtensionPreferences)(),r.hide()}}});return}(0,j.showToast)({style:j.Toast.Style.Failure,title:e??"Something went wrong",message:t instanceof Error?t.message:String(t)})}var k=require("@raycast/api"),D={inbox:{title:"Inbox",icon:{source:k.Icon.Tray,tintColor:k.Color.Blue}},today:{title:"Today",icon:{source:k.Icon.Star,tintColor:k.Color.Yellow}},evening:{title:"This Evening",icon:{source:k.Icon.Moon,tintColor:k.Color.Purple}},tomorrow:{title:"Tomorrow",icon:{source:k.Icon.ArrowClockwise,tintColor:k.Color.Orange}},upcoming:{title:"Upcoming",icon:{source:k.Icon.Calendar,tintColor:k.Color.Red}},anytime:{title:"Anytime",icon:{source:k.Icon.Layers,tintColor:k.Color.Green}},someday:{title:"Someday",icon:{source:k.Icon.Folder,tintColor:k.Color.SecondaryText}},logbook:{title:"Logbook",icon:{source:k.Icon.CheckCircle,tintColor:k.Color.Green}},list:t=>({title:t.name,icon:t.type==="area"?{source:k.Icon.Folder,tintColor:k.Color.Green}:{source:k.Icon.Circle,tintColor:k.Color.Blue}})},$c={open:k.Icon.Circle,completed:{source:k.Icon.CheckCircle,tintColor:k.Color.Blue},canceled:{source:k.Icon.XMarkCircle,tintColor:k.Color.SecondaryText}},ga={open:k.Icon.Circle,completed:k.Icon.CheckCircle,canceled:k.Icon.XMarkCircle};var w=require("react/jsx-runtime"),ba=30;function va(){let{shouldShowShortcuts:t,displayTodo:e}=(0,d.getPreferenceValues)(),{data:r,isLoading:n,mutate:a}=tt(()=>pa("today")),{data:o}=tt(()=>ya()),i=r?.find(c=>c.status==="open"),l=i?.name||"",s="";e&&(s=l.length>ba?l.substring(0,ba)+"\u2026":l);async function f(c){await a(ha(c.id,"status","completed"),{optimisticUpdate(h){if(h)return h.filter(y=>y.id!==c.id)},shouldRevalidateAfter:!1}),await(0,d.showToast)({style:d.Toast.Style.Success,title:"Marked as Completed"})}async function u(c,h){try{c.isProject?await Ct(c.id,{when:h}):await _t(c.id,{when:h}),await a(),await(0,d.showToast)({style:d.Toast.Style.Success,title:"Scheduled to-do"})}catch(y){Ut(y)}}async function p(c,h){try{c.isProject?await Ct(c.id,{"area-id":h}):await _t(c.id,{"list-id":h}),await a(),await(0,d.showToast)({style:d.Toast.Style.Success,title:"Moved to-do"})}catch(y){Ut(y)}}return(0,w.jsxs)(d.MenuBarExtra,{icon:"things-flat.png",title:s,tooltip:l,isLoading:n,children:[r&&r.length>0?(0,w.jsxs)(w.Fragment,{children:[e&&i?(0,w.jsx)(d.MenuBarExtra.Item,{title:"Complete",icon:d.Icon.CheckCircle,onAction:()=>f(i)}):null,(0,w.jsxs)(d.MenuBarExtra.Section,{children:[(0,w.jsx)(d.MenuBarExtra.Item,{title:"Today"}),r.map(c=>(0,w.jsxs)(d.MenuBarExtra.Submenu,{title:c.name,icon:ga[c.status],children:[(0,w.jsx)(d.MenuBarExtra.Item,{title:"Complete",icon:d.Icon.CheckCircle,onAction:()=>f(c)}),(0,w.jsx)(d.MenuBarExtra.Item,{title:"Show in Things",icon:"things-flat.png",onAction:()=>{(0,d.open)(`things:///show?id=${c.id}`)}}),(0,w.jsxs)(d.MenuBarExtra.Submenu,{title:"Schedule",icon:d.Icon.Calendar,children:[(0,w.jsx)(d.MenuBarExtra.Item,{...D.today,onAction:()=>u(c,"today")}),(0,w.jsx)(d.MenuBarExtra.Item,{...D.evening,onAction:()=>u(c,"evening")}),(0,w.jsx)(d.MenuBarExtra.Item,{...D.tomorrow,onAction:()=>u(c,"tomorrow")}),(0,w.jsx)(d.MenuBarExtra.Item,{...D.anytime,onAction:()=>u(c,"anytime")}),(0,w.jsx)(d.MenuBarExtra.Item,{...D.someday,onAction:()=>u(c,"someday")})]}),o&&o.length>0?(0,w.jsx)(d.MenuBarExtra.Submenu,{title:"Move To",icon:d.Icon.ArrowRight,children:o.filter(h=>c.isProject?h.type==="area":!0).map(h=>(0,w.jsx)(d.MenuBarExtra.Item,{...D.list(h),onAction:()=>p(c,h.id)},h.id))}):null]},c.id))]})]}):(0,w.jsx)(d.MenuBarExtra.Item,{title:"No to-dos for today."}),t?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(d.MenuBarExtra.Section,{children:[(0,w.jsx)(d.MenuBarExtra.Item,{...D.inbox,shortcut:{modifiers:["cmd"],key:"i"},onAction:()=>(0,d.open)("things:///show?id=inbox")}),(0,w.jsx)(d.MenuBarExtra.Item,{...D.today,shortcut:{modifiers:["cmd"],key:"t"},onAction:()=>(0,d.open)("things:///show?id=today")}),(0,w.jsx)(d.MenuBarExtra.Item,{...D.upcoming,shortcut:{modifiers:["cmd"],key:"u"},onAction:()=>(0,d.open)("things:///show?id=upcoming")}),(0,w.jsx)(d.MenuBarExtra.Item,{...D.anytime,shortcut:{modifiers:["cmd"],key:"a"},onAction:()=>(0,d.open)("things:///show?id=anytime")}),(0,w.jsx)(d.MenuBarExtra.Item,{...D.someday,shortcut:{modifiers:["cmd"],key:"s"},onAction:()=>(0,d.open)("things:///show?id=someday")}),(0,w.jsx)(d.MenuBarExtra.Item,{...D.logbook,shortcut:{modifiers:["cmd"],key:"l"},onAction:()=>(0,d.open)("things:///show?id=logbook")})]}),o&&o.length>0?(0,w.jsxs)(d.MenuBarExtra.Section,{children:[o.slice(0,6).map(c=>(0,w.jsx)(d.MenuBarExtra.Item,{...D.list(c),onAction:()=>(0,d.open)(`things:///show?id=${encodeURIComponent(c.id)}`)},c.id)),o.length>6?(0,w.jsx)(d.MenuBarExtra.Submenu,{title:"More",icon:d.Icon.Ellipsis,children:o.slice(6).map(c=>(0,w.jsx)(d.MenuBarExtra.Item,{...D.list(c),onAction:()=>(0,d.open)(`things:///show?id=${encodeURIComponent(c.id)}`)},c.id))}):null]}):null]}):null,(0,w.jsxs)(d.MenuBarExtra.Section,{children:[(0,w.jsx)(d.MenuBarExtra.Item,{title:"Add New To-Do",icon:d.Icon.Plus,shortcut:{modifiers:["cmd"],key:"n"},onAction:()=>{(0,d.launchCommand)({name:"add-new-todo",type:d.LaunchType.UserInitiated,context:{list:"today"}})}}),(0,w.jsx)(d.MenuBarExtra.Item,{title:"Configure Command",icon:d.Icon.Gear,shortcut:{modifiers:["cmd"],key:","},onAction:d.openCommandPreferences})]})]})}
