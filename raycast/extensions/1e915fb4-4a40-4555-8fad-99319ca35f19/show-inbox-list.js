"use strict";var ho=Object.create;var nt=Object.defineProperty;var mo=Object.getOwnPropertyDescriptor;var yo=Object.getOwnPropertyNames;var go=Object.getPrototypeOf,bo=Object.prototype.hasOwnProperty;var P=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),vo=(t,e)=>{for(var r in e)nt(t,r,{get:e[r],enumerable:!0})},Er=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of yo(e))!bo.call(t,a)&&a!==r&&nt(t,a,{get:()=>e[a],enumerable:!(n=mo(e,a))||n.enumerable});return t};var ce=(t,e,r)=>(r=t!=null?ho(go(t)):{},Er(e||!t||!t.__esModule?nt(r,"default",{value:t,enumerable:!0}):r,t)),$o=t=>Er(nt({},"__esModule",{value:!0}),t);var ve=P((Sc,zr)=>{"use strict";zr.exports=TypeError});var qr=P((kc,Br)=>{Br.exports=require("util").inspect});var qe=P((xc,dn)=>{var Jt=typeof Map=="function"&&Map.prototype,Wt=Object.getOwnPropertyDescriptor&&Jt?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ut=Jt&&Wt&&typeof Wt.get=="function"?Wt.get:null,Gr=Jt&&Map.prototype.forEach,Zt=typeof Set=="function"&&Set.prototype,Vt=Object.getOwnPropertyDescriptor&&Zt?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ft=Zt&&Vt&&typeof Vt.get=="function"?Vt.get:null,Hr=Zt&&Set.prototype.forEach,Fo=typeof WeakMap=="function"&&WeakMap.prototype,Ve=Fo?WeakMap.prototype.has:null,jo=typeof WeakSet=="function"&&WeakSet.prototype,ze=jo?WeakSet.prototype.has:null,Wo=typeof WeakRef=="function"&&WeakRef.prototype,Kr=Wo?WeakRef.prototype.deref:null,Vo=Boolean.prototype.valueOf,zo=Object.prototype.toString,Bo=Function.prototype.toString,qo=String.prototype.match,Qt=String.prototype.slice,pe=String.prototype.replace,Go=String.prototype.toUpperCase,Yr=String.prototype.toLowerCase,an=RegExp.prototype.test,Jr=Array.prototype.concat,re=Array.prototype.join,Ho=Array.prototype.slice,Zr=Math.floor,qt=typeof BigInt=="function"?BigInt.prototype.valueOf:null,zt=Object.getOwnPropertySymbols,Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Re=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Be=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Re||!0)?Symbol.toStringTag:null,on=Object.prototype.propertyIsEnumerable,Qr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Xr(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||an.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Zr(-t):Zr(t);if(n!==t){var a=String(n),o=Qt.call(e,a.length+1);return pe.call(a,r,"$&_")+"."+pe.call(pe.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return pe.call(e,r,"$&_")}var Ht=qr(),en=Ht.custom,tn=ln(en)?en:null,sn={__proto__:null,double:'"',single:"'"},Ko={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};dn.exports=function t(e,r,n,a){var o=r||{};if(le(o,"quoteStyle")&&!le(sn,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(le(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i=le(o,"customInspect")?o.customInspect:!0;if(typeof i!="boolean"&&i!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(le(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(le(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return fn(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var s=String(e);return c?Xr(e,s):s}if(typeof e=="bigint"){var u=String(e)+"n";return c?Xr(e,u):u}var d=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return Kt(e)?"[Array]":"[Object]";var f=di(o,n);if(typeof a>"u")a=[];else if(un(a,e)>=0)return"[Circular]";function l(g,m,h){if(m&&(a=Ho.call(a),a.push(m)),h){var b={depth:o.depth};return le(o,"quoteStyle")&&(b.quoteStyle=o.quoteStyle),t(g,b,n+1,a)}return t(g,o,n+1,a)}if(typeof e=="function"&&!rn(e)){var A=ni(e),x=lt(e,l);return"[Function"+(A?": "+A:" (anonymous)")+"]"+(x.length>0?" { "+re.call(x,", ")+" }":"")}if(ln(e)){var T=Re?pe.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Gt.call(e);return typeof e=="object"&&!Re?We(T):T}if(li(e)){for(var M="<"+Yr.call(String(e.nodeName)),y=e.attributes||[],k=0;k<y.length;k++)M+=" "+y[k].name+"="+cn(Yo(y[k].value),"double",o);return M+=">",e.childNodes&&e.childNodes.length&&(M+="..."),M+="</"+Yr.call(String(e.nodeName))+">",M}if(Kt(e)){if(e.length===0)return"[]";var v=lt(e,l);return f&&!fi(v)?"["+Yt(v,f)+"]":"[ "+re.call(v,", ")+" ]"}if(Zo(e)){var $=lt(e,l);return!("cause"in Error.prototype)&&"cause"in e&&!on.call(e,"cause")?"{ ["+String(e)+"] "+re.call(Jr.call("[cause]: "+l(e.cause),$),", ")+" }":$.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+re.call($,", ")+" }"}if(typeof e=="object"&&i){if(tn&&typeof e[tn]=="function"&&Ht)return Ht(e,{depth:d-n});if(i!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(ai(e)){var O=[];return Gr&&Gr.call(e,function(g,m){O.push(l(m,e,!0)+" => "+l(g,e))}),nn("Map",ut.call(e),O,f)}if(si(e)){var j=[];return Hr&&Hr.call(e,function(g){j.push(l(g,e))}),nn("Set",ft.call(e),j,f)}if(oi(e))return Bt("WeakMap");if(ci(e))return Bt("WeakSet");if(ii(e))return Bt("WeakRef");if(Xo(e))return We(l(Number(e)));if(ti(e))return We(l(qt.call(e)));if(ei(e))return We(Vo.call(e));if(Qo(e))return We(l(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!Jo(e)&&!rn(e)){var q=lt(e,l),W=Qr?Qr(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",J=!W&&Be&&Object(e)===e&&Be in e?Qt.call(he(e),8,-1):C?"Object":"",K=W||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",w=K+(J||C?"["+re.call(Jr.call([],J||[],C||[]),": ")+"] ":"");return q.length===0?w+"{}":f?w+"{"+Yt(q,f)+"}":w+"{ "+re.call(q,", ")+" }"}return String(e)};function cn(t,e,r){var n=r.quoteStyle||e,a=sn[n];return a+t+a}function Yo(t){return pe.call(String(t),/"/g,"&quot;")}function $e(t){return!Be||!(typeof t=="object"&&(Be in t||typeof t[Be]<"u"))}function Kt(t){return he(t)==="[object Array]"&&$e(t)}function Jo(t){return he(t)==="[object Date]"&&$e(t)}function rn(t){return he(t)==="[object RegExp]"&&$e(t)}function Zo(t){return he(t)==="[object Error]"&&$e(t)}function Qo(t){return he(t)==="[object String]"&&$e(t)}function Xo(t){return he(t)==="[object Number]"&&$e(t)}function ei(t){return he(t)==="[object Boolean]"&&$e(t)}function ln(t){if(Re)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Gt)return!1;try{return Gt.call(t),!0}catch{}return!1}function ti(t){if(!t||typeof t!="object"||!qt)return!1;try{return qt.call(t),!0}catch{}return!1}var ri=Object.prototype.hasOwnProperty||function(t){return t in this};function le(t,e){return ri.call(t,e)}function he(t){return zo.call(t)}function ni(t){if(t.name)return t.name;var e=qo.call(Bo.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function un(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function ai(t){if(!ut||!t||typeof t!="object")return!1;try{ut.call(t);try{ft.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function oi(t){if(!Ve||!t||typeof t!="object")return!1;try{Ve.call(t,Ve);try{ze.call(t,ze)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function ii(t){if(!Kr||!t||typeof t!="object")return!1;try{return Kr.call(t),!0}catch{}return!1}function si(t){if(!ft||!t||typeof t!="object")return!1;try{ft.call(t);try{ut.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function ci(t){if(!ze||!t||typeof t!="object")return!1;try{ze.call(t,ze);try{Ve.call(t,Ve)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function li(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function fn(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return fn(Qt.call(t,0,e.maxStringLength),e)+n}var a=Ko[e.quoteStyle||"single"];a.lastIndex=0;var o=pe.call(pe.call(t,a,"\\$1"),/[\x00-\x1f]/g,ui);return cn(o,"single",e)}function ui(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Go.call(e.toString(16))}function We(t){return"Object("+t+")"}function Bt(t){return t+" { ? }"}function nn(t,e,r,n){var a=n?Yt(r,n):re.call(r,", ");return t+" ("+e+") {"+a+"}"}function fi(t){for(var e=0;e<t.length;e++)if(un(t[e],`
`)>=0)return!1;return!0}function di(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=re.call(Array(t.indent+1)," ");else return null;return{base:r,prev:re.call(Array(e+1),r)}}function Yt(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+re.call(t,","+r)+`
`+e.prev}function lt(t,e){var r=Kt(t),n=[];if(r){n.length=t.length;for(var a=0;a<t.length;a++)n[a]=le(t,a)?e(t[a],t):""}var o=typeof zt=="function"?zt(t):[],i;if(Re){i={};for(var c=0;c<o.length;c++)i["$"+o[c]]=o[c]}for(var s in t)le(t,s)&&(r&&String(Number(s))===s&&s<t.length||Re&&i["$"+s]instanceof Symbol||(an.call(/[^\w$]/,s)?n.push(e(s,t)+": "+e(t[s],t)):n.push(s+": "+e(t[s],t))));if(typeof zt=="function")for(var u=0;u<o.length;u++)on.call(t,o[u])&&n.push("["+e(o[u])+"]: "+e(t[o[u]],t));return n}});var hn=P((Ac,pn)=>{"use strict";var pi=qe(),hi=ve(),dt=function(t,e,r){for(var n=t,a;(a=n.next)!=null;n=a)if(a.key===e)return n.next=a.next,r||(a.next=t.next,t.next=a),a},mi=function(t,e){if(t){var r=dt(t,e);return r&&r.value}},yi=function(t,e,r){var n=dt(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},gi=function(t,e){return t?!!dt(t,e):!1},bi=function(t,e){if(t)return dt(t,e,!0)};pn.exports=function(){var e,r={assert:function(n){if(!r.has(n))throw new hi("Side channel does not contain "+pi(n))},delete:function(n){var a=e&&e.next,o=bi(e,n);return o&&a&&a===o&&(e=void 0),!!o},get:function(n){return mi(e,n)},has:function(n){return gi(e,n)},set:function(n,a){e||(e={next:void 0}),yi(e,n,a)}};return r}});var Xt=P((Tc,mn)=>{"use strict";mn.exports=Object});var gn=P((Ec,yn)=>{"use strict";yn.exports=Error});var vn=P((Pc,bn)=>{"use strict";bn.exports=EvalError});var wn=P((Ic,$n)=>{"use strict";$n.exports=RangeError});var kn=P((Oc,Sn)=>{"use strict";Sn.exports=ReferenceError});var An=P((Dc,xn)=>{"use strict";xn.exports=SyntaxError});var En=P((Rc,Tn)=>{"use strict";Tn.exports=URIError});var In=P((Cc,Pn)=>{"use strict";Pn.exports=Math.abs});var Dn=P((_c,On)=>{"use strict";On.exports=Math.floor});var Cn=P((Mc,Rn)=>{"use strict";Rn.exports=Math.max});var Mn=P((Lc,_n)=>{"use strict";_n.exports=Math.min});var Nn=P((Nc,Ln)=>{"use strict";Ln.exports=Math.pow});var Fn=P((Uc,Un)=>{"use strict";Un.exports=Math.round});var Wn=P((Fc,jn)=>{"use strict";jn.exports=Number.isNaN||function(e){return e!==e}});var zn=P((jc,Vn)=>{"use strict";var vi=Wn();Vn.exports=function(e){return vi(e)||e===0?e:e<0?-1:1}});var qn=P((Wc,Bn)=>{"use strict";Bn.exports=Object.getOwnPropertyDescriptor});var er=P((Vc,Gn)=>{"use strict";var pt=qn();if(pt)try{pt([],"length")}catch{pt=null}Gn.exports=pt});var Kn=P((zc,Hn)=>{"use strict";var ht=Object.defineProperty||!1;if(ht)try{ht({},"a",{value:1})}catch{ht=!1}Hn.exports=ht});var Jn=P((Bc,Yn)=>{"use strict";Yn.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==a||c.enumerable!==!0)return!1}return!0}});var Xn=P((qc,Qn)=>{"use strict";var Zn=typeof Symbol<"u"&&Symbol,$i=Jn();Qn.exports=function(){return typeof Zn!="function"||typeof Symbol!="function"||typeof Zn("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:$i()}});var tr=P((Gc,ea)=>{"use strict";ea.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var rr=P((Hc,ta)=>{"use strict";var wi=Xt();ta.exports=wi.getPrototypeOf||null});var aa=P((Kc,na)=>{"use strict";var Si="Function.prototype.bind called on incompatible ",ki=Object.prototype.toString,xi=Math.max,Ai="[object Function]",ra=function(e,r){for(var n=[],a=0;a<e.length;a+=1)n[a]=e[a];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},Ti=function(e,r){for(var n=[],a=r||0,o=0;a<e.length;a+=1,o+=1)n[o]=e[a];return n},Ei=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};na.exports=function(e){var r=this;if(typeof r!="function"||ki.apply(r)!==Ai)throw new TypeError(Si+r);for(var n=Ti(arguments,1),a,o=function(){if(this instanceof a){var d=r.apply(this,ra(n,arguments));return Object(d)===d?d:this}return r.apply(e,ra(n,arguments))},i=xi(0,r.length-n.length),c=[],s=0;s<i;s++)c[s]="$"+s;if(a=Function("binder","return function ("+Ei(c,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,a.prototype=new u,u.prototype=null}return a}});var Ge=P((Yc,oa)=>{"use strict";var Pi=aa();oa.exports=Function.prototype.bind||Pi});var mt=P((Jc,ia)=>{"use strict";ia.exports=Function.prototype.call});var nr=P((Zc,sa)=>{"use strict";sa.exports=Function.prototype.apply});var la=P((Qc,ca)=>{"use strict";ca.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var fa=P((Xc,ua)=>{"use strict";var Ii=Ge(),Oi=nr(),Di=mt(),Ri=la();ua.exports=Ri||Ii.call(Di,Oi)});var ar=P((el,da)=>{"use strict";var Ci=Ge(),_i=ve(),Mi=mt(),Li=fa();da.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new _i("a function is required");return Li(Ci,Mi,e)}});var ba=P((tl,ga)=>{"use strict";var Ni=ar(),pa=er(),ma;try{ma=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var or=!!ma&&pa&&pa(Object.prototype,"__proto__"),ya=Object,ha=ya.getPrototypeOf;ga.exports=or&&typeof or.get=="function"?Ni([or.get]):typeof ha=="function"?function(e){return ha(e==null?e:ya(e))}:!1});var ka=P((rl,Sa)=>{"use strict";var va=tr(),$a=rr(),wa=ba();Sa.exports=va?function(e){return va(e)}:$a?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return $a(e)}:wa?function(e){return wa(e)}:null});var Aa=P((nl,xa)=>{"use strict";var Ui=Function.prototype.call,Fi=Object.prototype.hasOwnProperty,ji=Ge();xa.exports=ji.call(Ui,Fi)});var bt=P((al,Da)=>{"use strict";var _,Wi=Xt(),Vi=gn(),zi=vn(),Bi=wn(),qi=kn(),Le=An(),Me=ve(),Gi=En(),Hi=In(),Ki=Dn(),Yi=Cn(),Ji=Mn(),Zi=Nn(),Qi=Fn(),Xi=zn(),Ia=Function,ir=function(t){try{return Ia('"use strict"; return ('+t+").constructor;")()}catch{}},He=er(),es=Kn(),sr=function(){throw new Me},ts=He?(function(){try{return arguments.callee,sr}catch{try{return He(arguments,"callee").get}catch{return sr}}})():sr,Ce=Xn()(),H=ka(),rs=rr(),ns=tr(),Oa=nr(),Ke=mt(),_e={},as=typeof Uint8Array>"u"||!H?_:H(Uint8Array),we={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_:ArrayBuffer,"%ArrayIteratorPrototype%":Ce&&H?H([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":_e,"%AsyncGenerator%":_e,"%AsyncGeneratorFunction%":_e,"%AsyncIteratorPrototype%":_e,"%Atomics%":typeof Atomics>"u"?_:Atomics,"%BigInt%":typeof BigInt>"u"?_:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Vi,"%eval%":eval,"%EvalError%":zi,"%Float16Array%":typeof Float16Array>"u"?_:Float16Array,"%Float32Array%":typeof Float32Array>"u"?_:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_:FinalizationRegistry,"%Function%":Ia,"%GeneratorFunction%":_e,"%Int8Array%":typeof Int8Array>"u"?_:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ce&&H?H(H([][Symbol.iterator]())):_,"%JSON%":typeof JSON=="object"?JSON:_,"%Map%":typeof Map>"u"?_:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ce||!H?_:H(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Wi,"%Object.getOwnPropertyDescriptor%":He,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_:Promise,"%Proxy%":typeof Proxy>"u"?_:Proxy,"%RangeError%":Bi,"%ReferenceError%":qi,"%Reflect%":typeof Reflect>"u"?_:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ce||!H?_:H(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ce&&H?H(""[Symbol.iterator]()):_,"%Symbol%":Ce?Symbol:_,"%SyntaxError%":Le,"%ThrowTypeError%":ts,"%TypedArray%":as,"%TypeError%":Me,"%Uint8Array%":typeof Uint8Array>"u"?_:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_:Uint32Array,"%URIError%":Gi,"%WeakMap%":typeof WeakMap>"u"?_:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_:WeakSet,"%Function.prototype.call%":Ke,"%Function.prototype.apply%":Oa,"%Object.defineProperty%":es,"%Object.getPrototypeOf%":rs,"%Math.abs%":Hi,"%Math.floor%":Ki,"%Math.max%":Yi,"%Math.min%":Ji,"%Math.pow%":Zi,"%Math.round%":Qi,"%Math.sign%":Xi,"%Reflect.getPrototypeOf%":ns};if(H)try{null.error}catch(t){Ta=H(H(t)),we["%Error.prototype%"]=Ta}var Ta,os=function t(e){var r;if(e==="%AsyncFunction%")r=ir("async function () {}");else if(e==="%GeneratorFunction%")r=ir("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ir("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&H&&(r=H(a.prototype))}return we[e]=r,r},Ea={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ye=Ge(),yt=Aa(),is=Ye.call(Ke,Array.prototype.concat),ss=Ye.call(Oa,Array.prototype.splice),Pa=Ye.call(Ke,String.prototype.replace),gt=Ye.call(Ke,String.prototype.slice),cs=Ye.call(Ke,RegExp.prototype.exec),ls=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,us=/\\(\\)?/g,fs=function(e){var r=gt(e,0,1),n=gt(e,-1);if(r==="%"&&n!=="%")throw new Le("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Le("invalid intrinsic syntax, expected opening `%`");var a=[];return Pa(e,ls,function(o,i,c,s){a[a.length]=c?Pa(s,us,"$1"):i||o}),a},ds=function(e,r){var n=e,a;if(yt(Ea,n)&&(a=Ea[n],n="%"+a[0]+"%"),yt(we,n)){var o=we[n];if(o===_e&&(o=os(n)),typeof o>"u"&&!r)throw new Me("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new Le("intrinsic "+e+" does not exist!")};Da.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Me("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Me('"allowMissing" argument must be a boolean');if(cs(/^%?[^%]*%?$/,e)===null)throw new Le("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=fs(e),a=n.length>0?n[0]:"",o=ds("%"+a+"%",r),i=o.name,c=o.value,s=!1,u=o.alias;u&&(a=u[0],ss(n,is([0,1],u)));for(var d=1,f=!0;d<n.length;d+=1){var l=n[d],A=gt(l,0,1),x=gt(l,-1);if((A==='"'||A==="'"||A==="`"||x==='"'||x==="'"||x==="`")&&A!==x)throw new Le("property names with quotes must have matching quotes");if((l==="constructor"||!f)&&(s=!0),a+="."+l,i="%"+a+"%",yt(we,i))c=we[i];else if(c!=null){if(!(l in c)){if(!r)throw new Me("base intrinsic for "+e+" exists, but the property is not available.");return}if(He&&d+1>=n.length){var T=He(c,l);f=!!T,f&&"get"in T&&!("originalValue"in T.get)?c=T.get:c=c[l]}else f=yt(c,l),c=c[l];f&&!s&&(we[i]=c)}}return c}});var cr=P((ol,_a)=>{"use strict";var Ra=bt(),Ca=ar(),ps=Ca([Ra("%String.prototype.indexOf%")]);_a.exports=function(e,r){var n=Ra(e,!!r);return typeof n=="function"&&ps(e,".prototype.")>-1?Ca([n]):n}});var lr=P((il,La)=>{"use strict";var hs=bt(),Je=cr(),ms=qe(),ys=ve(),Ma=hs("%Map%",!0),gs=Je("Map.prototype.get",!0),bs=Je("Map.prototype.set",!0),vs=Je("Map.prototype.has",!0),$s=Je("Map.prototype.delete",!0),ws=Je("Map.prototype.size",!0);La.exports=!!Ma&&function(){var e,r={assert:function(n){if(!r.has(n))throw new ys("Side channel does not contain "+ms(n))},delete:function(n){if(e){var a=$s(e,n);return ws(e)===0&&(e=void 0),a}return!1},get:function(n){if(e)return gs(e,n)},has:function(n){return e?vs(e,n):!1},set:function(n,a){e||(e=new Ma),bs(e,n,a)}};return r}});var Ua=P((sl,Na)=>{"use strict";var Ss=bt(),$t=cr(),ks=qe(),vt=lr(),xs=ve(),Ne=Ss("%WeakMap%",!0),As=$t("WeakMap.prototype.get",!0),Ts=$t("WeakMap.prototype.set",!0),Es=$t("WeakMap.prototype.has",!0),Ps=$t("WeakMap.prototype.delete",!0);Na.exports=Ne?function(){var e,r,n={assert:function(a){if(!n.has(a))throw new xs("Side channel does not contain "+ks(a))},delete:function(a){if(Ne&&a&&(typeof a=="object"||typeof a=="function")){if(e)return Ps(e,a)}else if(vt&&r)return r.delete(a);return!1},get:function(a){return Ne&&a&&(typeof a=="object"||typeof a=="function")&&e?As(e,a):r&&r.get(a)},has:function(a){return Ne&&a&&(typeof a=="object"||typeof a=="function")&&e?Es(e,a):!!r&&r.has(a)},set:function(a,o){Ne&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new Ne),Ts(e,a,o)):vt&&(r||(r=vt()),r.set(a,o))}};return n}:vt});var ja=P((cl,Fa)=>{"use strict";var Is=ve(),Os=qe(),Ds=hn(),Rs=lr(),Cs=Ua(),_s=Cs||Rs||Ds;Fa.exports=function(){var e,r={assert:function(n){if(!r.has(n))throw new Is("Side channel does not contain "+Os(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,a){e||(e=_s()),e.set(n,a)}};return r}});var wt=P((ll,Wa)=>{"use strict";var Ms=String.prototype.replace,Ls=/%20/g,ur={RFC1738:"RFC1738",RFC3986:"RFC3986"};Wa.exports={default:ur.RFC3986,formatters:{RFC1738:function(t){return Ms.call(t,Ls,"+")},RFC3986:function(t){return String(t)}},RFC1738:ur.RFC1738,RFC3986:ur.RFC3986}});var pr=P((ul,za)=>{"use strict";var Ns=wt(),fr=Object.prototype.hasOwnProperty,Se=Array.isArray,ne=(function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Us=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Se(n)){for(var a=[],o=0;o<n.length;++o)typeof n[o]<"u"&&a.push(n[o]);r.obj[r.prop]=a}}},Va=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},a=0;a<e.length;++a)typeof e[a]<"u"&&(n[a]=e[a]);return n},Fs=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(Se(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!fr.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var a=e;return Se(e)&&!Se(r)&&(a=Va(e,n)),Se(e)&&Se(r)?(r.forEach(function(o,i){if(fr.call(e,i)){var c=e[i];c&&typeof c=="object"&&o&&typeof o=="object"?e[i]=t(c,o,n):e.push(o)}else e[i]=o}),e):Object.keys(r).reduce(function(o,i){var c=r[i];return fr.call(o,i)?o[i]=t(o[i],c,n):o[i]=c,o},a)},js=function(e,r){return Object.keys(r).reduce(function(n,a){return n[a]=r[a],n},e)},Ws=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},dr=1024,Vs=function(e,r,n,a,o){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(A){return"%26%23"+parseInt(A.slice(2),16)+"%3B"});for(var c="",s=0;s<i.length;s+=dr){for(var u=i.length>=dr?i.slice(s,s+dr):i,d=[],f=0;f<u.length;++f){var l=u.charCodeAt(f);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===Ns.RFC1738&&(l===40||l===41)){d[d.length]=u.charAt(f);continue}if(l<128){d[d.length]=ne[l];continue}if(l<2048){d[d.length]=ne[192|l>>6]+ne[128|l&63];continue}if(l<55296||l>=57344){d[d.length]=ne[224|l>>12]+ne[128|l>>6&63]+ne[128|l&63];continue}f+=1,l=65536+((l&1023)<<10|u.charCodeAt(f)&1023),d[d.length]=ne[240|l>>18]+ne[128|l>>12&63]+ne[128|l>>6&63]+ne[128|l&63]}c+=d.join("")}return c},zs=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],a=0;a<r.length;++a)for(var o=r[a],i=o.obj[o.prop],c=Object.keys(i),s=0;s<c.length;++s){var u=c[s],d=i[u];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:i,prop:u}),n.push(d))}return Us(r),e},Bs=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},qs=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Gs=function(e,r){return[].concat(e,r)},Hs=function(e,r){if(Se(e)){for(var n=[],a=0;a<e.length;a+=1)n.push(r(e[a]));return n}return r(e)};za.exports={arrayToObject:Va,assign:js,combine:Gs,compact:zs,decode:Ws,encode:Vs,isBuffer:qs,isRegExp:Bs,maybeMap:Hs,merge:Fs}});var Ya=P((fl,Ka)=>{"use strict";var qa=ja(),St=pr(),Ze=wt(),Ks=Object.prototype.hasOwnProperty,Ga={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ae=Array.isArray,Ys=Array.prototype.push,Ha=function(t,e){Ys.apply(t,ae(e)?e:[e])},Js=Date.prototype.toISOString,Ba=Ze.default,B={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:St.encode,encodeValuesOnly:!1,filter:void 0,format:Ba,formatter:Ze.formatters[Ba],indices:!1,serializeDate:function(e){return Js.call(e)},skipNulls:!1,strictNullHandling:!1},Zs=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},hr={},Qs=function t(e,r,n,a,o,i,c,s,u,d,f,l,A,x,T,M,y,k){for(var v=e,$=k,O=0,j=!1;($=$.get(hr))!==void 0&&!j;){var q=$.get(e);if(O+=1,typeof q<"u"){if(q===O)throw new RangeError("Cyclic object value");j=!0}typeof $.get(hr)>"u"&&(O=0)}if(typeof d=="function"?v=d(r,v):v instanceof Date?v=A(v):n==="comma"&&ae(v)&&(v=St.maybeMap(v,function(V){return V instanceof Date?A(V):V})),v===null){if(i)return u&&!M?u(r,B.encoder,y,"key",x):r;v=""}if(Zs(v)||St.isBuffer(v)){if(u){var W=M?r:u(r,B.encoder,y,"key",x);return[T(W)+"="+T(u(v,B.encoder,y,"value",x))]}return[T(r)+"="+T(String(v))]}var C=[];if(typeof v>"u")return C;var J;if(n==="comma"&&ae(v))M&&u&&(v=St.maybeMap(v,u)),J=[{value:v.length>0?v.join(",")||null:void 0}];else if(ae(d))J=d;else{var K=Object.keys(v);J=f?K.sort(f):K}var w=s?String(r).replace(/\./g,"%2E"):String(r),g=a&&ae(v)&&v.length===1?w+"[]":w;if(o&&ae(v)&&v.length===0)return g+"[]";for(var m=0;m<J.length;++m){var h=J[m],b=typeof h=="object"&&h&&typeof h.value<"u"?h.value:v[h];if(!(c&&b===null)){var E=l&&s?String(h).replace(/\./g,"%2E"):String(h),I=ae(v)?typeof n=="function"?n(g,E):g:g+(l?"."+E:"["+E+"]");k.set(e,O);var U=qa();U.set(hr,k),Ha(C,t(b,I,n,a,o,i,c,s,n==="comma"&&M&&ae(v)?null:u,d,f,l,A,x,T,M,y,U))}}return C},Xs=function(e){if(!e)return B;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||B.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ze.default;if(typeof e.format<"u"){if(!Ks.call(Ze.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var a=Ze.formatters[n],o=B.filter;(typeof e.filter=="function"||ae(e.filter))&&(o=e.filter);var i;if(e.arrayFormat in Ga?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=B.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:B.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:B.addQueryPrefix,allowDots:c,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:B.allowEmptyArrays,arrayFormat:i,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:B.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?B.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:B.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:B.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:B.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:B.encodeValuesOnly,filter:o,format:n,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:B.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:B.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:B.strictNullHandling}};Ka.exports=function(t,e){var r=t,n=Xs(e),a,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):ae(n.filter)&&(o=n.filter,a=o);var i=[];if(typeof r!="object"||r===null)return"";var c=Ga[n.arrayFormat],s=c==="comma"&&n.commaRoundTrip;a||(a=Object.keys(r)),n.sort&&a.sort(n.sort);for(var u=qa(),d=0;d<a.length;++d){var f=a[d],l=r[f];n.skipNulls&&l===null||Ha(i,Qs(l,f,c,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var A=i.join(n.delimiter),x=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),A.length>0?x+A:""}});var Xa=P((dl,Qa)=>{"use strict";var ke=pr(),mr=Object.prototype.hasOwnProperty,Ja=Array.isArray,z={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ke.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},ec=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Za=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},tc="utf8=%26%2310003%3B",rc="utf8=%E2%9C%93",nc=function(e,r){var n={__proto__:null},a=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;a=a.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=r.parameterLimit===1/0?void 0:r.parameterLimit,i=a.split(r.delimiter,r.throwOnLimitExceeded?o+1:o);if(r.throwOnLimitExceeded&&i.length>o)throw new RangeError("Parameter limit exceeded. Only "+o+" parameter"+(o===1?"":"s")+" allowed.");var c=-1,s,u=r.charset;if(r.charsetSentinel)for(s=0;s<i.length;++s)i[s].indexOf("utf8=")===0&&(i[s]===rc?u="utf-8":i[s]===tc&&(u="iso-8859-1"),c=s,s=i.length);for(s=0;s<i.length;++s)if(s!==c){var d=i[s],f=d.indexOf("]="),l=f===-1?d.indexOf("="):f+1,A,x;l===-1?(A=r.decoder(d,z.decoder,u,"key"),x=r.strictNullHandling?null:""):(A=r.decoder(d.slice(0,l),z.decoder,u,"key"),x=ke.maybeMap(Za(d.slice(l+1),r,Ja(n[A])?n[A].length:0),function(M){return r.decoder(M,z.decoder,u,"value")})),x&&r.interpretNumericEntities&&u==="iso-8859-1"&&(x=ec(String(x))),d.indexOf("[]=")>-1&&(x=Ja(x)?[x]:x);var T=mr.call(n,A);T&&r.duplicates==="combine"?n[A]=ke.combine(n[A],x):(!T||r.duplicates==="last")&&(n[A]=x)}return n},ac=function(t,e,r,n){var a=0;if(t.length>0&&t[t.length-1]==="[]"){var o=t.slice(0,-1).join("");a=Array.isArray(e)&&e[o]?e[o].length:0}for(var i=n?e:Za(e,r,a),c=t.length-1;c>=0;--c){var s,u=t[c];if(u==="[]"&&r.parseArrays)s=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:ke.combine([],i);else{s=r.plainObjects?{__proto__:null}:{};var d=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,f=r.decodeDotInKeys?d.replace(/%2E/g,"."):d,l=parseInt(f,10);!r.parseArrays&&f===""?s={0:i}:!isNaN(l)&&u!==f&&String(l)===f&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(s=[],s[l]=i):f!=="__proto__"&&(s[f]=i)}i=s}return i},oc=function(e,r,n,a){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,s=n.depth>0&&i.exec(o),u=s?o.slice(0,s.index):o,d=[];if(u){if(!n.plainObjects&&mr.call(Object.prototype,u)&&!n.allowPrototypes)return;d.push(u)}for(var f=0;n.depth>0&&(s=c.exec(o))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&mr.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(s[1])}if(s){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");d.push("["+o.slice(s.index)+"]")}return ac(d,r,n,a)}},ic=function(e){if(!e)return z;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?z.charset:e.charset,n=typeof e.duplicates>"u"?z.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:z.allowDots:!!e.allowDots;return{allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:z.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:z.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:z.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:z.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:z.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:z.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:z.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:z.decoder,delimiter:typeof e.delimiter=="string"||ke.isRegExp(e.delimiter)?e.delimiter:z.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:z.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:z.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:z.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:z.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:z.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:z.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}};Qa.exports=function(t,e){var r=ic(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?nc(t,r):t,a=r.plainObjects?{__proto__:null}:{},o=Object.keys(n),i=0;i<o.length;++i){var c=o[i],s=oc(c,n[c],r,typeof t=="string");a=ke.merge(a,s,r)}return r.allowSparse===!0?a:ke.compact(a)}});var to=P((pl,eo)=>{"use strict";var sc=Ya(),cc=Xa(),lc=wt();eo.exports={formats:lc,parse:cc,stringify:sc}});var $r=P((br,vr)=>{(function(t,e){typeof br=="object"&&typeof vr<"u"?vr.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=e()})(br,(function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",a="second",o="minute",i="hour",c="day",s="week",u="month",d="quarter",f="year",l="date",A="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var g=["th","st","nd","rd"],m=w%100;return"["+w+(g[(m-20)%10]||g[m]||g[0])+"]"}},y=function(w,g,m){var h=String(w);return!h||h.length>=g?w:""+Array(g+1-h.length).join(m)+w},k={s:y,z:function(w){var g=-w.utcOffset(),m=Math.abs(g),h=Math.floor(m/60),b=m%60;return(g<=0?"+":"-")+y(h,2,"0")+":"+y(b,2,"0")},m:function w(g,m){if(g.date()<m.date())return-w(m,g);var h=12*(m.year()-g.year())+(m.month()-g.month()),b=g.clone().add(h,u),E=m-b<0,I=g.clone().add(h+(E?-1:1),u);return+(-(h+(m-b)/(E?b-I:I-b))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:u,y:f,w:s,d:c,D:l,h:i,m:o,s:a,ms:n,Q:d}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},v="en",$={};$[v]=M;var O="$isDayjsObject",j=function(w){return w instanceof J||!(!w||!w[O])},q=function w(g,m,h){var b;if(!g)return v;if(typeof g=="string"){var E=g.toLowerCase();$[E]&&(b=E),m&&($[E]=m,b=E);var I=g.split("-");if(!b&&I.length>1)return w(I[0])}else{var U=g.name;$[U]=g,b=U}return!h&&b&&(v=b),b||!h&&v},W=function(w,g){if(j(w))return w.clone();var m=typeof g=="object"?g:{};return m.date=w,m.args=arguments,new J(m)},C=k;C.l=q,C.i=j,C.w=function(w,g){return W(w,{locale:g.$L,utc:g.$u,x:g.$x,$offset:g.$offset})};var J=(function(){function w(m){this.$L=q(m.locale,null,!0),this.parse(m),this.$x=this.$x||m.x||{},this[O]=!0}var g=w.prototype;return g.parse=function(m){this.$d=(function(h){var b=h.date,E=h.utc;if(b===null)return new Date(NaN);if(C.u(b))return new Date;if(b instanceof Date)return new Date(b);if(typeof b=="string"&&!/Z$/i.test(b)){var I=b.match(x);if(I){var U=I[2]-1||0,V=(I[7]||"0").substring(0,3);return E?new Date(Date.UTC(I[1],U,I[3]||1,I[4]||0,I[5]||0,I[6]||0,V)):new Date(I[1],U,I[3]||1,I[4]||0,I[5]||0,I[6]||0,V)}}return new Date(b)})(m),this.init()},g.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},g.$utils=function(){return C},g.isValid=function(){return this.$d.toString()!==A},g.isSame=function(m,h){var b=W(m);return this.startOf(h)<=b&&b<=this.endOf(h)},g.isAfter=function(m,h){return W(m)<this.startOf(h)},g.isBefore=function(m,h){return this.endOf(h)<W(m)},g.$g=function(m,h,b){return C.u(m)?this[h]:this.set(b,m)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(m,h){var b=this,E=!!C.u(h)||h,I=C.p(m),U=function(ye,Z){var de=C.w(b.$u?Date.UTC(b.$y,Z,ye):new Date(b.$y,Z,ye),b);return E?de:de.endOf(c)},V=function(ye,Z){return C.w(b.toDate()[ye].apply(b.toDate("s"),(E?[0,0,0,0]:[23,59,59,999]).slice(Z)),b)},G=this.$W,Y=this.$M,ee=this.$D,Ie="set"+(this.$u?"UTC":"");switch(I){case f:return E?U(1,0):U(31,11);case u:return E?U(1,Y):U(0,Y+1);case s:var me=this.$locale().weekStart||0,Fe=(G<me?G+7:G)-me;return U(E?ee-Fe:ee+(6-Fe),Y);case c:case l:return V(Ie+"Hours",0);case i:return V(Ie+"Minutes",1);case o:return V(Ie+"Seconds",2);case a:return V(Ie+"Milliseconds",3);default:return this.clone()}},g.endOf=function(m){return this.startOf(m,!1)},g.$set=function(m,h){var b,E=C.p(m),I="set"+(this.$u?"UTC":""),U=(b={},b[c]=I+"Date",b[l]=I+"Date",b[u]=I+"Month",b[f]=I+"FullYear",b[i]=I+"Hours",b[o]=I+"Minutes",b[a]=I+"Seconds",b[n]=I+"Milliseconds",b)[E],V=E===c?this.$D+(h-this.$W):h;if(E===u||E===f){var G=this.clone().set(l,1);G.$d[U](V),G.init(),this.$d=G.set(l,Math.min(this.$D,G.daysInMonth())).$d}else U&&this.$d[U](V);return this.init(),this},g.set=function(m,h){return this.clone().$set(m,h)},g.get=function(m){return this[C.p(m)]()},g.add=function(m,h){var b,E=this;m=Number(m);var I=C.p(h),U=function(Y){var ee=W(E);return C.w(ee.date(ee.date()+Math.round(Y*m)),E)};if(I===u)return this.set(u,this.$M+m);if(I===f)return this.set(f,this.$y+m);if(I===c)return U(1);if(I===s)return U(7);var V=(b={},b[o]=e,b[i]=r,b[a]=t,b)[I]||1,G=this.$d.getTime()+m*V;return C.w(G,this)},g.subtract=function(m,h){return this.add(-1*m,h)},g.format=function(m){var h=this,b=this.$locale();if(!this.isValid())return b.invalidDate||A;var E=m||"YYYY-MM-DDTHH:mm:ssZ",I=C.z(this),U=this.$H,V=this.$m,G=this.$M,Y=b.weekdays,ee=b.months,Ie=b.meridiem,me=function(Z,de,je,rt){return Z&&(Z[de]||Z(h,E))||je[de].slice(0,rt)},Fe=function(Z){return C.s(U%12||12,Z,"0")},ye=Ie||function(Z,de,je){var rt=Z<12?"AM":"PM";return je?rt.toLowerCase():rt};return E.replace(T,(function(Z,de){return de||(function(je){switch(je){case"YY":return String(h.$y).slice(-2);case"YYYY":return C.s(h.$y,4,"0");case"M":return G+1;case"MM":return C.s(G+1,2,"0");case"MMM":return me(b.monthsShort,G,ee,3);case"MMMM":return me(ee,G);case"D":return h.$D;case"DD":return C.s(h.$D,2,"0");case"d":return String(h.$W);case"dd":return me(b.weekdaysMin,h.$W,Y,2);case"ddd":return me(b.weekdaysShort,h.$W,Y,3);case"dddd":return Y[h.$W];case"H":return String(U);case"HH":return C.s(U,2,"0");case"h":return Fe(1);case"hh":return Fe(2);case"a":return ye(U,V,!0);case"A":return ye(U,V,!1);case"m":return String(V);case"mm":return C.s(V,2,"0");case"s":return String(h.$s);case"ss":return C.s(h.$s,2,"0");case"SSS":return C.s(h.$ms,3,"0");case"Z":return I}return null})(Z)||I.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(m,h,b){var E,I=this,U=C.p(h),V=W(m),G=(V.utcOffset()-this.utcOffset())*e,Y=this-V,ee=function(){return C.m(I,V)};switch(U){case f:E=ee()/12;break;case u:E=ee();break;case d:E=ee()/3;break;case s:E=(Y-G)/6048e5;break;case c:E=(Y-G)/864e5;break;case i:E=Y/r;break;case o:E=Y/e;break;case a:E=Y/t;break;default:E=Y}return b?E:C.a(E)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return $[this.$L]},g.locale=function(m,h){if(!m)return this.$L;var b=this.clone(),E=q(m,h,!0);return E&&(b.$L=E),b},g.clone=function(){return C.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},w})(),K=J.prototype;return W.prototype=K,[["$ms",n],["$s",a],["$m",o],["$H",i],["$W",c],["$M",u],["$y",f],["$D",l]].forEach((function(w){K[w[1]]=function(g){return this.$g(g,w[0],w[1])}})),W.extend=function(w,g){return w.$i||(w(g,J,W),w.$i=!0),W},W.locale=q,W.isDayjs=j,W.unix=function(w){return W(1e3*w)},W.en=$[v],W.Ls=$,W.p={},W}))});var gc={};vo(gc,{default:()=>yc});module.exports=$o(gc);var tt=require("@raycast/api");var R=ce(require("react")),F=require("@raycast/api");var Pr=Object.prototype.hasOwnProperty;function at(t,e){var r,n;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&at(t[n],e[n]););return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(Pr.call(t,r)&&++n&&!Pr.call(e,r)||!(r in e)||!at(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}var ge=ce(require("node:fs")),it=ce(require("node:path")),Lr=ce(require("node:crypto")),Nr=ce(require("node:child_process")),Ur=require("node:buffer"),De=ce(require("node:stream")),Fr=require("node:util");var jr=require("react/jsx-runtime");var Ct=globalThis;function wo(t){let e=(0,R.useRef)(t),r=(0,R.useRef)(0);return at(t,e.current)||(e.current=t,r.current+=1),(0,R.useMemo)(()=>e.current,[r.current])}function Q(t){let e=(0,R.useRef)(t);return e.current=t,e}function So(t,e){let r=t instanceof Error?t.message:String(t);return(0,F.showToast)({style:F.Toast.Style.Failure,title:e?.title??"Something went wrong",message:e?.message??r,primaryAction:e?.primaryAction??Ir(t),secondaryAction:e?.primaryAction?Ir(t):void 0})}var Ir=t=>{let e=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,ge.readFileSync)((0,it.join)(F.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(e=!1)}catch{}let a=F.environment.isDevelopment||e,o=t instanceof Error?t?.stack||t?.message||"":String(t);return{title:a?"Copy Logs":"Report Error",onAction(i){i.hide(),a?F.Clipboard.copy(o):(0,F.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${o}
\`\`\`
`)}`)}}};function ko(t,e,r){let n=(0,R.useRef)(0),[a,o]=(0,R.useState)({isLoading:!0}),i=Q(t),c=Q(r?.abortable),s=Q(e||[]),u=Q(r?.onError),d=Q(r?.onData),f=Q(r?.onWillExecute),l=Q(r?.failureToastOptions),A=Q(a.data),x=(0,R.useRef)(null),T=(0,R.useRef)({page:0}),M=(0,R.useRef)(!1),y=(0,R.useRef)(!0),k=(0,R.useRef)(50),v=(0,R.useCallback)(()=>(c.current&&(c.current.current?.abort(),c.current.current=new AbortController),++n.current),[c]),$=(0,R.useCallback)((...K)=>{let w=v();f.current?.(K),o(h=>({...h,isLoading:!0}));let g=xo(i.current)(...K);function m(h){return h.name=="AbortError"||w===n.current&&(u.current?u.current(h):F.environment.launchType!==F.LaunchType.Background&&So(h,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(b){b.hide(),x.current?.(...s.current||[])}},...l.current}),o({error:h,isLoading:!1})),h}return typeof g=="function"?(M.current=!0,g(T.current).then(({data:h,hasMore:b,cursor:E})=>(w===n.current&&(T.current&&(T.current.cursor=E,T.current.lastItem=h?.[h.length-1]),d.current&&d.current(h,T.current),b&&(k.current=h.length),y.current=b,o(I=>T.current.page===0?{data:h,isLoading:!1}:{data:(I.data||[])?.concat(h),isLoading:!1})),h),h=>(y.current=!1,m(h)))):(M.current=!1,g.then(h=>(w===n.current&&(d.current&&d.current(h),o({data:h,isLoading:!1})),h),m))},[d,u,s,i,o,x,f,T,l,v]);x.current=$;let O=(0,R.useCallback)(()=>{T.current={page:0};let K=s.current||[];return $(...K)},[$,s]),j=(0,R.useCallback)(async(K,w)=>{let g;try{if(w?.optimisticUpdate){v(),typeof w?.rollbackOnError!="function"&&w?.rollbackOnError!==!1&&(g=structuredClone(A.current?.value));let m=w.optimisticUpdate;o(h=>({...h,data:m(h.data)}))}return await K}catch(m){if(typeof w?.rollbackOnError=="function"){let h=w.rollbackOnError;o(b=>({...b,data:h(b.data)}))}else w?.optimisticUpdate&&w?.rollbackOnError!==!1&&o(h=>({...h,data:g}));throw m}finally{w?.shouldRevalidateAfter!==!1&&(F.environment.launchType===F.LaunchType.Background||F.environment.commandMode==="menu-bar"?await O():O())}},[O,A,o,v]),q=(0,R.useCallback)(()=>{T.current.page+=1;let K=s.current||[];$(...K)},[T,s,$]);(0,R.useEffect)(()=>{T.current={page:0},r?.execute!==!1?$(...e||[]):v()},[wo([e,r?.execute,$]),c,T]),(0,R.useEffect)(()=>()=>{v()},[v]);let W=r?.execute!==!1?a.isLoading:!1,C={...a,isLoading:W},J=M.current?{pageSize:k.current,hasMore:y.current,onLoadMore:q}:void 0;return{...C,revalidate:O,mutate:j,pagination:J}}function xo(t){return t===Promise.all||t===Promise.race||t===Promise.resolve||t===Promise.reject?t.bind(Promise):t}function Or(t){return typeof t!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(t))!==null}function Ao(t){return t instanceof URLSearchParams?t.toString():t}function Wr(t,e=[]){function r(n){return"update"in t?t.update(n,"utf8"):t.write(n)}return{dispatch:function(n){n=Ao(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let a=/\[object (.*)\]/i,o=Object.prototype.toString.call(n),i=a.exec(o)?.[1]??"unknown:["+o+"]";i=i.toLowerCase();let c=null;if((c=e.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+c+"]");return}else e.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let s=Object.keys(n);s=s.sort(),Or(n)||s.splice(0,0,"prototype","__proto__","constructor"),r("object:"+s.length+":");let u=this;return s.forEach(function(d){u.dispatch(d),r(":"),u.dispatch(n[d]),r(",")})}},_array:function(n,a){a=typeof a<"u"?a:!1;let o=this;if(r("array:"+n.length+":"),!a||n.length<=1){n.forEach(function(s){o.dispatch(s)});return}let i=[],c=n.map(function(s){let u=To(),d=e.slice();return Wr(u,d).dispatch(s),i=i.concat(d.slice(e.length)),u.read().toString()});e=e.concat(i),c.sort(),this._array(c,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),Or(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let a=Array.from(n);this._array(a,!0)},_set:function(n){r("set:");let a=Array.from(n);this._array(a,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function To(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}function Eo(t,e){let r=this[t];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:e}function Po(t,e){return typeof e=="string"&&e.startsWith("__raycast_cached_date__")?new Date(e.replace("__raycast_cached_date__","")):typeof e=="string"&&e.startsWith("__raycast_cached_buffer__")?Buffer.from(e.replace("__raycast_cached_buffer__",""),"base64"):e}function Dr(t){let e=Lr.default.createHash("sha1");return Wr(e).dispatch(t),e.digest("hex")}var Io=Symbol("cache without namespace"),Rr=new Map;function Oo(t,e,r){let n=r?.cacheNamespace||Io,a=Rr.get(n)||Rr.set(n,new F.Cache({namespace:r?.cacheNamespace})).get(n);if(!a)throw new Error("Missing cache");let o=Q(t),i=Q(e),c=(0,R.useSyncExternalStore)(a.subscribe,()=>{try{return a.get(o.current)}catch(f){console.error("Could not get Cache data:",f);return}}),s=(0,R.useMemo)(()=>{if(typeof c<"u"){if(c==="undefined")return;try{return JSON.parse(c,Po)}catch(f){return console.warn("The cached data is corrupted",f),i.current}}else return i.current},[c,i]),u=Q(s),d=(0,R.useCallback)(f=>{let l=typeof f=="function"?f(u.current):f;if(typeof l>"u")a.set(o.current,"undefined");else{let A=JSON.stringify(l,Eo);a.set(o.current,A)}return l},[a,o,u]);return[s,d]}var Oe=Symbol();function be(t,e,r){let{initialData:n,keepPreviousData:a,internal_cacheKeySuffix:o,...i}=r||{},c=(0,R.useRef)(null),[s,u]=Oo(Dr(e||[])+o,Oe,{cacheNamespace:Dr(t)}),d=(0,R.useRef)(s!==Oe?s:n),f=(0,R.useRef)(void 0),{mutate:l,revalidate:A,...x}=ko(t,e||[],{...i,onData(v,$){f.current=$,i.onData&&i.onData(v,$),!($&&$.page>0)&&(c.current="promise",d.current=v,u(v))}}),T,M=x.pagination;f.current&&f.current.page>0&&x.data?T=x.data:c.current==="promise"?T=d.current:a&&s!==Oe?(T=s,M&&(M.hasMore=!0,M.pageSize=s.length)):a&&s===Oe?T=d.current:s!==Oe?(T=s,M&&(M.hasMore=!0,M.pageSize=s.length)):T=n;let y=Q(T),k=(0,R.useCallback)(async(v,$)=>{let O;try{if($?.optimisticUpdate){typeof $?.rollbackOnError!="function"&&$?.rollbackOnError!==!1&&(O=structuredClone(y.current));let j=$.optimisticUpdate(y.current);c.current="cache",d.current=j,u(j)}return await l(v,{shouldRevalidateAfter:$?.shouldRevalidateAfter})}catch(j){if(typeof $?.rollbackOnError=="function"){let q=$.rollbackOnError(y.current);c.current="cache",d.current=q,u(q)}else $?.optimisticUpdate&&$?.rollbackOnError!==!1&&(c.current="cache",d.current=O,u(O));throw j}},[u,l,y,d,c]);return(0,R.useEffect)(()=>{s!==Oe&&(c.current="cache",d.current=s)},[s]),{data:T,isLoading:x.isLoading,error:x.error,mutate:f.current&&f.current.page>0?l:k,pagination:M,revalidate:A}}var ot=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",_t=Symbol.for("signal-exit emitter"),Nt=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),Ct[_t])return Ct[_t];Object.defineProperty(Ct,_t,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,r){this.listeners[e].push(r)}removeListener(e,r){let n=this.listeners[e],a=n.indexOf(r);a!==-1&&(a===0&&n.length===1?n.length=0:n.splice(a,1))}emit(e,r,n){if(this.emitted[e])return!1;this.emitted[e]=!0;let a=!1;for(let o of this.listeners[e])a=o(r,n)===!0||a;return e==="exit"&&(a=this.emit("afterExit",r,n)||a),a}},Ut=class{onExit(){return()=>{}}load(){}unload(){}},Ft=class{#s;#t;#e;#o;#i;#a;#n;#r;constructor(e){this.#s=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new Nt,this.#a={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=e,this.#a={};for(let r of this.#r)this.#a[r]=()=>{let n=this.#e.listeners(r),{count:a}=this.#t,o=e;if(typeof o.__signal_exit_emitter__=="object"&&typeof o.__signal_exit_emitter__.count=="number"&&(a+=o.__signal_exit_emitter__.count),n.length===a){this.unload();let i=this.#t.emit("exit",null,r),c=r==="SIGHUP"?this.#s:r;i||e.kill(e.pid,c)}};this.#i=e.reallyExit,this.#o=e.emit}onExit(e,r){if(!ot(this.#e))return()=>{};this.#n===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,e),()=>{this.#t.removeListener(n,e),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let e of this.#r)try{let r=this.#a[e];r&&this.#e.on(e,r)}catch{}this.#e.emit=(e,...r)=>this.#l(e,...r),this.#e.reallyExit=e=>this.#c(e)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(e=>{let r=this.#a[e];if(!r)throw new Error("Listener not defined for signal: "+e);try{this.#e.removeListener(e,r)}catch{}}),this.#e.emit=this.#o,this.#e.reallyExit=this.#i,this.#t.count-=1)}#c(e){return ot(this.#e)?(this.#e.exitCode=e||0,this.#t.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#l(e,...r){let n=this.#o;if(e==="exit"&&ot(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let a=n.call(this.#e,e,...r);return this.#t.emit("exit",this.#e.exitCode,null),a}else return n.call(this.#e,e,...r)}},Mt=null,Do=(t,e)=>(Mt||(Mt=ot(process)?new Ft(process):new Ut),Mt.onExit(t,e));function Ro(t,{timeout:e}={}){let r=new Promise((c,s)=>{t.on("exit",(u,d)=>{c({exitCode:u,signal:d,timedOut:!1})}),t.on("error",u=>{s(u)}),t.stdin&&t.stdin.on("error",u=>{s(u)})}),n=Do(()=>{t.kill()});if(e===0||e===void 0)return r.finally(()=>n());let a,o=new Promise((c,s)=>{a=setTimeout(()=>{t.kill("SIGTERM"),s(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},e)}),i=r.finally(()=>{clearTimeout(a)});return Promise.race([o,i]).finally(()=>n())}var jt=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function Co(t){let{encoding:e}=t,r=e==="buffer",n=new De.default.PassThrough({objectMode:!1});e&&e!=="buffer"&&n.setEncoding(e);let a=0,o=[];return n.on("data",i=>{o.push(i),a+=i.length}),n.getBufferedValue=()=>r?Buffer.concat(o,a):o.join(""),n.getBufferedLength=()=>a,n}async function Cr(t,e){let r=Co(e);return await new Promise((n,a)=>{let o=i=>{i&&r.getBufferedLength()<=Ur.constants.MAX_LENGTH&&(i.bufferedData=r.getBufferedValue()),a(i)};(async()=>{try{await(0,Fr.promisify)(De.default.pipeline)(t,r),n()}catch(i){o(i)}})(),r.on("data",()=>{r.getBufferedLength()>8e7&&o(new jt)})}),r.getBufferedValue()}async function _r(t,e){t.destroy();try{return await e}catch(r){return r.bufferedData}}async function _o({stdout:t,stderr:e},{encoding:r},n){let a=Cr(t,{encoding:r}),o=Cr(e,{encoding:r});try{return await Promise.all([n,a,o])}catch(i){return Promise.all([{error:i,exitCode:null,signal:i.signal,timedOut:i.timedOut||!1},_r(t,a),_r(e,o)])}}function Mo(t){let e=typeof t=="string"?`
`:10,r=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===r&&(t=t.slice(0,-1)),t}function Mr(t,e){return t.stripFinalNewline?Mo(e):e}function Lo({timedOut:t,timeout:e,signal:r,exitCode:n}){return t?`timed out after ${e} milliseconds`:r!=null?`was killed with ${r}`:n!=null?`failed with exit code ${n}`:"failed"}function No({stdout:t,stderr:e,error:r,signal:n,exitCode:a,command:o,timedOut:i,options:c,parentError:s}){let d=`Command ${Lo({timedOut:i,timeout:c?.timeout,signal:n,exitCode:a})}: ${o}`,f=r?`${d}
${r.message}`:d,l=[f,e,t].filter(Boolean).join(`
`);return r?r.originalMessage=r.message:r=s,r.message=l,r.shortMessage=f,r.command=o,r.exitCode=a,r.signal=n,r.stdout=t,r.stderr=e,"bufferedData"in r&&delete r.bufferedData,r}function Uo({stdout:t,stderr:e,error:r,exitCode:n,signal:a,timedOut:o,command:i,options:c,parentError:s}){if(r||n!==0||a!==null)throw No({error:r,exitCode:n,signal:a,stdout:t,stderr:e,command:i,timedOut:o,options:c,parentError:s});return t}var st=(function(t){return t.Required="required",t})({});function Lt(t,e){if(t){if(typeof t=="function")return t(e);if(t==="required"){let r=typeof e<"u"&&e!==null;if(r)switch(typeof e){case"string":r=e.length>0;break;case"object":Array.isArray(e)?r=e.length>0:e instanceof Date&&(r=e.getTime()>0);break;default:break}if(!r)return"The item is required"}}}function ct(t){let{onSubmit:e,validation:r,initialValues:n={}}=t,[a,o]=(0,R.useState)(n),[i,c]=(0,R.useState)({}),s=(0,R.useRef)({}),u=Q(r||{}),d=Q(e),f=(0,R.useCallback)(y=>{s.current[y]?.focus()},[s]),l=(0,R.useCallback)(async y=>{let k=!1;for(let[$,O]of Object.entries(u.current)){let j=Lt(O,y[$]);j&&(k||(k={},f($)),k[$]=j)}if(k)return c(k),!1;let v=await d.current(y);return typeof v=="boolean"?v:!0},[u,d,f]),A=(0,R.useCallback)((y,k)=>{c(v=>({...v,[y]:k}))},[c]),x=(0,R.useCallback)(function(y,k){o(v=>({...v,[y]:typeof k=="function"?k(v[y]):k}))},[o]),T=(0,R.useMemo)(()=>new Proxy({},{get(y,k){let v=u.current[k],$=a[k];return{onChange(O){i[k]&&(Lt(v,O)||A(k,void 0)),x(k,O)},onBlur(O){let j=Lt(v,O.target.value);j&&A(k,j)},error:i[k],id:k,value:typeof $>"u"?null:$,ref:O=>{s.current[k]=O}}}}),[i,u,A,a,s,x]),M=(0,R.useCallback)(y=>{c({}),Object.entries(s.current).forEach(([k,v])=>{y?.[k]||v?.reset()}),y&&o(y)},[o,c,s]);return{handleSubmit:l,setValidationError:A,setValue:x,values:a,itemProps:T,focus:f,reset:M}}async function Vr(t,e,r){if(process.platform!=="darwin")throw new Error("AppleScript is only supported on macOS");let{humanReadableOutput:n,language:a,timeout:o,...i}=Array.isArray(e)?r||{}:e||{},c=n!==!1?[]:["-ss"];a==="JavaScript"&&c.push("-l","JavaScript"),Array.isArray(e)&&c.push("-",...e);let s=Nr.default.spawn("osascript",c,{...i,env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin"}}),u=Ro(s,{timeout:o??1e4});s.stdin.end(t);let[{error:d,exitCode:f,signal:l,timedOut:A},x,T]=await _o(s,{encoding:"utf8"},u),M=Mr({stripFinalNewline:!0},x),y=Mr({stripFinalNewline:!0},T);return Uo({stdout:M,stderr:y,error:d,exitCode:f,signal:l,timedOut:A,command:"osascript",options:r,parentError:new Error})}var fo=require("react");var ro=require("child_process"),no=require("util"),te=require("@raycast/api");var kt=ce(to()),xe=(0,te.getPreferenceValues)(),ue=class extends Error{constructor(r,n,a){super(r);this.type=n;this.originalError=a;this.name="ThingsError"}},Ae=async t=>{try{let e=await Vr(`(function(){${t}})()`,{humanReadableOutput:!1,language:"JavaScript"});return e?JSON.parse(e.replace(/:\s*undefined/g,": null")):void 0}catch(e){let n=(typeof e=="string"?e:e instanceof Error?e.message:String(e)).replace("execution error: Error: ","");throw n.match(/Application can't be found/i)?new ue("Things application not found. Please make sure Things is installed and running.","APP_NOT_FOUND",n):n.match(/not allowed assistive access/i)||n.match(/permission/i)||n.match(/-1743/)?new ue("Permission denied. Please grant Raycast access to Things in System Settings > Privacy & Security > Automation > Raycast > Things.","PERMISSION_DENIED",n):n.match(/doesn't understand/i)||n.match(/can't get/i)?new ue("Things automation interface error. This might be due to a Things version incompatibility or the app not being ready.","EXECUTION_ERROR",n):new ue(`Unexpected error: ${n}`,"UNKNOWN_ERROR",n)}},uc={inbox:"TMInboxListSource",today:"TMTodayListSource",anytime:"TMNextListSource",upcoming:"TMCalendarListSource",someday:"TMSomedayListSource",logbook:"TMLogbookListSource",trash:"TMTrashListSource"},ao=t=>Ae(`
  const things = Application('${xe.thingsAppIdentifier}');
  const todos = things.lists.byId('${uc[t]}').toDos();

  return todos.map(todo => ({
    id: todo.id(),
    name: todo.name(),
    status: todo.status(),
    notes: todo.notes(),
    tags: todo.tagNames(),
    dueDate: todo.dueDate() && todo.dueDate().toISOString(),
    activationDate: todo.activationDate() && todo.activationDate().toISOString(),
    isProject: todo.properties().pcls === "project",
    project: todo.project() && {
      id: todo.project().id(),
      name: todo.project().name(),
      status: todo.project().status(),
      tags: todo.project().tagNames(),
      dueDate: todo.project().dueDate() && todo.project().dueDate().toISOString(),
      activationDate: todo.project().activationDate() && todo.project().activationDate().toISOString(),
      area: todo.project().area() && {
        id: todo.project().area().id(),
        name: todo.project().area().name(),
        tags: todo.project().area().tagNames(),
      },
    },
    area: todo.area() && {
      id: todo.area().id(),
      name: todo.area().name(),
      tags: todo.area().tagNames(),
    },
  }));
`);var yr=(t,e,r)=>Ae(`
  const things = Application('${xe.thingsAppIdentifier}');
  things.toDos.byId('${t}').${e} = '${r}';
`),oo=t=>Ae(`
  const things = Application('${xe.thingsAppIdentifier}');
  things.delete(things.toDos.byId('${t}'));
`),io=t=>Ae(`
  const things = Application('${xe.thingsAppIdentifier}');
  things.delete(things.projects.byId('${t}'));
`),xt=()=>Ae(`
  const things = Application('${xe.thingsAppIdentifier}');
  return things.tags().map(tag => tag.name());
`),fc=async()=>Ae(`
    const things = Application('${xe.thingsAppIdentifier}');
    const projects = things.projects();

    return projects.map(project => ({
      id: project.id(),
      name: project.name(),
      status: project.status(),
      notes: project.notes(),
      tags: project.tagNames(),
      dueDate: project.dueDate() && project.dueDate().toISOString(),
      activationDate: project.activationDate() && project.activationDate().toISOString(),
      area: project.area() && {
        id: project.area().id(),
        name: project.area().name(),
        tags: project.area().tagNames(),
      },
      todos: project.toDos().map(todo => ({
        id: todo.id(),
        name: todo.name(),
        status: todo.status(),
        notes: todo.notes(),
        tags: todo.tagNames(),
        dueDate: todo.dueDate() && todo.dueDate().toISOString(),
        activationDate: todo.activationDate() && todo.activationDate().toISOString(),
      }))
    }));
  `),dc=async()=>Ae(`
    const things = Application('${xe.thingsAppIdentifier}');
    const areas = things.areas();

    return areas.map(area => ({
      id: area.id(),
      name: area.name(),
      tags: area.tagNames(),
      todos: area.toDos().map(todo => ({
        id: todo.id(),
        name: todo.name(),
        status: todo.status(),
        notes: todo.notes(),
        tags: todo.tagNames(),
        dueDate: todo.dueDate() && todo.dueDate().toISOString(),
        activationDate: todo.activationDate() && todo.activationDate().toISOString(),
        isProject: todo.properties().pcls === "project",
      }))
    }));
  `),At=async()=>{let t=await fc()||[],e=await dc()||[],r=t.filter(a=>!a.area).map(a=>({...a,type:"project"})),n=[];return e.forEach(a=>{n.push({...a,type:"area"});let o=t.filter(i=>i.area&&i.area.id===a.id).map(i=>({...i,type:"project"}));n.push(...o)}),[...r,...n]};async function gr(t){await(0,no.promisify)(ro.exec)(`open -g "${t}"`)}async function Tt(t,e){let{authToken:r}=(0,te.getPreferenceValues)();if(!r)throw new Error("unauthorized");await gr(`things:///update?${kt.default.stringify({"auth-token":r,id:t,...e})}`)}async function Et(t,e){let{authToken:r}=(0,te.getPreferenceValues)();if(!r)throw new Error("unauthorized");await gr(`things:///update-project?${kt.default.stringify({"auth-token":r,id:t,...e})}`)}async function so(t){await gr(`things:///add?${kt.default.stringify(t)}`)}function Pt(t,e){if(t instanceof Error&&t.message==="unauthorized"){(0,te.showToast)({style:te.Toast.Style.Failure,title:"This action needs an authentication token.",message:`Please set it in the extension preferences.
You can find your unique token in Things\u2019 settings. go to Things \u2192 Settings \u2192 General \u2192 Enable Things URLs \u2192 Manage`,primaryAction:{title:"Open Extension Preferences",onAction(r){(0,te.openExtensionPreferences)(),r.hide()}}});return}(0,te.showToast)({style:te.Toast.Style.Failure,title:e??"Something went wrong",message:t instanceof Error?t.message:String(t)})}var co=ce($r()),lo=(t,e)=>`${t} ${e}${t>1?"s":""}`,wr=t=>t.charAt(0).toUpperCase()+t.slice(1),Sr=t=>(0,co.default)(t).format("YYYY-MM-DD");var oe=require("@raycast/api");var S=require("@raycast/api");var Ue=require("@raycast/api");var It=require("react/jsx-runtime");function Qe({error:t,onRetry:e}){let r=i=>{if(i instanceof ue)switch(i.type){case"APP_NOT_FOUND":return{title:"Application Not Found",description:"The Things app is not running or not installed.",solutions:["**Start Things**: Open the Things app and make sure it's running","**Check Installation**: Verify Things is properly installed","**Restart**: Try quitting and restarting both Things and Raycast"],errorType:"Application Not Found"};case"PERMISSION_DENIED":return{title:"Permission Denied",description:"Raycast doesn't have permission to control Things.",solutions:["Open **System Settings** \u2192 **Privacy & Security** \u2192 **Automation**","Find **Raycast** in the list","Make sure **Things** is checked \u2705"],errorType:"Permission Denied"};case"EXECUTION_ERROR":return{title:"Things Communication Error",description:"There was an error communicating with Things.",solutions:["**Restart Things**: Quit and restart the Things app","**Wait and Retry**: If Things was just started, wait a moment and try again"],errorType:"Execution Error"};case"UNKNOWN_ERROR":return{title:"Unknown Error",description:"An unexpected error occurred while trying to communicate with Things.",solutions:["**Restart Both Apps**: Quit and restart both Things and Raycast","**Update**: Make sure both Things and Raycast are up to date"],errorType:"Unknown Error"}}return{title:"Error",description:"An error occurred while loading data from Things.",solutions:["Make sure Things is running","Check that Raycast has automation permissions","Try restarting both applications"],errorType:i.constructor.name}},n=(i,c)=>{let s=c instanceof ue?c.originalError:c.message;return`# ${i.title}

${i.description}

## Solutions

${i.solutions.map((u,d)=>`${d+1}. ${u}`).join(`
`)}

## Technical Details

- Error Type: \`${i.errorType}\`
- Original Error: \`${s||"N/A"}\``},a=r(t),o=n(a,t);return(0,It.jsx)(Ue.Detail,{markdown:o,actions:e?(0,It.jsx)(Ue.ActionPanel,{children:(0,It.jsx)(Ue.Action,{title:"Try Again",onAction:e})}):void 0})}var N=require("@raycast/api"),X={inbox:{title:"Inbox",icon:{source:N.Icon.Tray,tintColor:N.Color.Blue}},today:{title:"Today",icon:{source:N.Icon.Star,tintColor:N.Color.Yellow}},evening:{title:"This Evening",icon:{source:N.Icon.Moon,tintColor:N.Color.Purple}},tomorrow:{title:"Tomorrow",icon:{source:N.Icon.ArrowClockwise,tintColor:N.Color.Orange}},upcoming:{title:"Upcoming",icon:{source:N.Icon.Calendar,tintColor:N.Color.Red}},anytime:{title:"Anytime",icon:{source:N.Icon.Layers,tintColor:N.Color.Green}},someday:{title:"Someday",icon:{source:N.Icon.Folder,tintColor:N.Color.SecondaryText}},logbook:{title:"Logbook",icon:{source:N.Icon.CheckCircle,tintColor:N.Color.Green}},list:t=>({title:t.name,icon:t.type==="area"?{source:N.Icon.Folder,tintColor:N.Color.Green}:{source:N.Icon.Circle,tintColor:N.Color.Blue}})},Xe={open:N.Icon.Circle,completed:{source:N.Icon.CheckCircle,tintColor:N.Color.Blue},canceled:{source:N.Icon.XMarkCircle,tintColor:N.Color.SecondaryText}},$l={open:N.Icon.Circle,completed:N.Icon.CheckCircle,canceled:N.Icon.XMarkCircle};function Ot(t,e){return N.AI.ask(`Break down a task into sub-tasks. The sub-tasks should be actionable. Each item should be separated by a new line. Return the sub-tasks in the same language as the task's title language.

Note that each task doesn't start with a hyphen or a number. This is important.

For example, for a task named "Fix bug", you could write:
Find the root cause
Fix the bug
Write tests to prevent regressions
Ship the fix.

Here's the task you need to break-down: "${t}"
${e.length>0?`For additional context, here are the task's notes: "${e}"`:""}

Sub-tasks:`)}var L=require("react/jsx-runtime");function Dt({title:t,commandListName:e,draftValues:r}){let{push:n}=(0,S.useNavigation)(),{data:a,isLoading:o,error:i}=be(xt),{data:c,isLoading:s,error:u}=be(At),{handleSubmit:d,itemProps:f,values:l,reset:A,focus:x,setValue:T}=ct({async onSubmit(){let $={title:l.title,notes:l.notes,when:l.when==="upcoming"&&l.date?Sr(l.date):l.when,"list-id":l.listId,deadline:l.deadline?Sr(l.deadline):"",...l.tags.length>0&&{tags:l.tags.join(",")},"checklist-items":l["checklist-items"]};await so($),await(0,S.showToast)({style:S.Toast.Style.Success,title:"Added new to-do",primaryAction:{title:"Go to list",shortcut:{modifiers:["cmd"],key:"g"},onAction(){let O;l.when==="today"||l.when==="evening"?O="today":l.when==="tomorrow"||l.when==="upcoming"?O="upcoming":l.when==="anytime"?O="anytime":l.when==="someday"?O="someday":l.when==="logbook"?O="logbook":l.when==="trash"?O="trash":O="inbox",n((0,L.jsx)(et,{commandListName:O}))}}}),A({title:"",notes:"",tags:[],when:"",listId:"","checklist-items":"",deadline:null}),x("title")},initialValues:{title:t??r?.title??"",notes:r?.notes??"",tags:r?.tags??[],when:e??r?.when??null,"checklist-items":r?.["checklist-items"]??"",deadline:r?.deadline??null},validation:{title:st.Required}});async function M(){try{if(!l.title){await(0,S.showToast)({style:S.Toast.Style.Failure,title:"The to-do should have a title"});return}let $=await(0,S.showToast)({style:S.Toast.Style.Animated,title:"Generating checklist"}),O=await Ot(l.title,l.notes);T("checklist-items",O.trim()),x("checklist-items"),await $.hide()}catch($){let O=typeof $=="string"?$:$ instanceof Error?$.message:String($);await(0,S.showToast)({style:S.Toast.Style.Failure,title:"Failed to generate check-list",message:O})}}let y=o||s,k=i||u;if(k)return(0,L.jsx)(Qe,{error:k});let v=new Date;return(0,L.jsxs)(S.Form,{isLoading:y,actions:(0,L.jsxs)(S.ActionPanel,{children:[(0,L.jsx)(S.Action.SubmitForm,{title:"Add New To-Do",onSubmit:d,icon:S.Icon.Plus}),S.environment.canAccess(S.AI)&&(0,L.jsx)(S.Action,{title:"Generate Checklist with AI",icon:S.Icon.BulletPoints,onAction:M}),(0,L.jsxs)(S.ActionPanel.Section,{children:[(0,L.jsx)(S.Action,{title:"Focus Title",icon:S.Icon.TextInput,onAction:()=>x("title"),shortcut:{modifiers:["cmd"],key:"1"}}),(0,L.jsx)(S.Action,{title:"Focus Notes",icon:S.Icon.TextInput,onAction:()=>x("notes"),shortcut:{modifiers:["cmd"],key:"2"}}),(0,L.jsx)(S.Action,{title:"Focus When",icon:S.Icon.TextInput,onAction:()=>x("when"),shortcut:{modifiers:["cmd"],key:"s"}}),(0,L.jsx)(S.Action,{title:"Focus List",icon:S.Icon.TextInput,onAction:()=>x("listId"),shortcut:{modifiers:["cmd","shift"],key:"m"}}),(0,L.jsx)(S.Action,{title:"Focus Tags",icon:S.Icon.TextInput,onAction:()=>x("tags"),shortcut:{modifiers:["cmd","shift"],key:"t"}}),(0,L.jsx)(S.Action,{title:"Focus Checklist",icon:S.Icon.TextInput,onAction:()=>x("checklist-items"),shortcut:{modifiers:["cmd","shift"],key:"c"}}),(0,L.jsx)(S.Action,{title:"Focus Deadline",icon:S.Icon.TextInput,onAction:()=>x("deadline"),shortcut:{modifiers:["cmd","shift"],key:"d"}})]})]}),enableDrafts:!t&&!e,children:[(0,L.jsx)(S.Form.TextField,{...f.title,title:"Title",placeholder:"New to-do"}),(0,L.jsx)(S.Form.TextArea,{...f.notes,title:"Notes",placeholder:"Write some notes (Markdown enabled)",enableMarkdown:!0}),(0,L.jsx)(S.Form.Separator,{}),(0,L.jsxs)(S.Form.Dropdown,{...f.when,title:"When",children:[(0,L.jsx)(S.Form.Dropdown.Item,{value:"",title:"No date"}),(0,L.jsx)(S.Form.Dropdown.Item,{value:"today",...X.today}),(0,L.jsx)(S.Form.Dropdown.Item,{value:"evening",...X.evening}),(0,L.jsx)(S.Form.Dropdown.Item,{value:"tomorrow",...X.tomorrow}),(0,L.jsx)(S.Form.Dropdown.Item,{value:"upcoming",...X.upcoming}),(0,L.jsx)(S.Form.Dropdown.Item,{value:"anytime",...X.anytime}),(0,L.jsx)(S.Form.Dropdown.Item,{value:"someday",...X.someday})]}),l.when==="upcoming"&&(0,L.jsx)(S.Form.DatePicker,{...f.date,title:"Start Date",min:v}),c&&c.length>0?(0,L.jsxs)(S.Form.Dropdown,{...f.listId,title:"List",children:[(0,L.jsx)(S.Form.Dropdown.Item,{value:"",title:"Inbox",icon:{source:S.Icon.Tray,tintColor:S.Color.Blue}}),c.map($=>(0,L.jsx)(S.Form.Dropdown.Item,{value:$.id,...X.list($)},$.id))]}):null,a&&a.length>0?(0,L.jsx)(S.Form.TagPicker,{...f.tags,title:"Tags",children:a.map($=>(0,L.jsx)(S.Form.TagPicker.Item,{value:$,title:$},$))}):null,(0,L.jsx)(S.Form.TextArea,{...f["checklist-items"],title:"Checklist Items",placeholder:"Items separated by new lines"}),(0,L.jsx)(S.Form.DatePicker,{...f.deadline,title:"Deadline",type:S.Form.DatePicker.Type.Date,min:v})]})}var Te=require("react/jsx-runtime");function kr({searchText:t,commandListName:e}){return(0,Te.jsx)(oe.List.EmptyView,{title:"No to-dos found.",description:"Press \u2318 + K to create a new to-do or search in Things",actions:(0,Te.jsxs)(oe.ActionPanel,{children:[(0,Te.jsx)(oe.Action.Push,{icon:oe.Icon.Plus,title:"Add New To-Do",target:(0,Te.jsx)(Dt,{title:t,commandListName:e})}),(0,Te.jsx)(oe.Action.OpenInBrowser,{title:"Search in Things",icon:oe.Icon.MagnifyingGlass,url:`things:///search?query=${t}`})]})})}var se=require("@raycast/api"),Pe=ce($r());var p=require("@raycast/api");var ie=require("@raycast/api");var Ee=require("react/jsx-runtime");function xr({todo:t,refreshTodos:e}){let{pop:r}=(0,ie.useNavigation)(),{handleSubmit:n,itemProps:a}=ct({async onSubmit(o){try{t.isProject?await Et(t.id,{notes:o.notes,title:o.title}):await Tt(t.id,{notes:o.notes,title:o.title}),e(),r()}catch(i){Pt(i)}},initialValues:{title:t.name,notes:t.notes},validation:{title:st.Required}});return(0,Ee.jsxs)(ie.Form,{navigationTitle:`Edit "${t.name}"`,actions:(0,Ee.jsx)(ie.ActionPanel,{children:(0,Ee.jsx)(ie.Action.SubmitForm,{title:"Edit To-Do",onSubmit:n})}),children:[(0,Ee.jsx)(ie.Form.TextField,{...a.title,title:"Title",placeholder:"New to-do"}),(0,Ee.jsx)(ie.Form.TextArea,{...a.notes,title:"Notes",placeholder:"Write some notes (Markdown enabled)",enableMarkdown:!0})]})}var D=require("react/jsx-runtime"),uo=require("react"),pc=/([a-zA-Z][a-zA-Z0-9.+-]+):(?:\/\/\S+|%\S+)/;function Ar({todo:t,refreshTodos:e,commandListName:r,tags:n,lists:a}){let o=n?.filter(y=>!t.tags?.includes(y))??[],i=t.area||t.project?.area,c=t.notes.match(pc)?.[0];async function s(y,k){try{t.isProject?await Et(t.id,y):await Tt(t.id,y),await(0,p.showToast)({style:p.Toast.Style.Success,title:k.title,message:k.message??t.name}),e()}catch(v){Pt(v)}}async function u(){let y=await(0,p.showToast)({style:p.Toast.Style.Animated,title:"Generating checklist",message:t.name}),k=await Ot(t.name,t.notes);await(0,p.confirmAlert)({title:"Add these items to the checklist?",message:k.trim(),icon:{source:p.Icon.Stars,tintColor:p.Color.Yellow}})?await s({"append-checklist-items":k.trim()},{title:"Added checklist items"}):await y.hide()}async function d(){let y=await(0,p.showToast)({style:p.Toast.Style.Animated,title:"Making to-do actionable",message:t.name}),k=(await p.AI.ask(`Make a task title more actionable. Here are some examples:
Yoga \u2192 Do a yoga session
Fix bug \u2192 Investigate and fix the bug
Write post \u2192 Write a blog post about \u2026

Return the result in the same language than the task's title (e.g if the task title is written in French, the checklist should be written in French as well)
Here's the task title you need to make actionable: "${t.name}
${t.notes?`For additional context, here are the task's notes: "${t.notes}"`:""}

New title:
        `,{creativity:.2})).trim();await(0,p.confirmAlert)({title:"Change to-do's title?",message:`The new title will be: "${k}"`,icon:{source:p.Icon.Stars,tintColor:p.Color.Yellow}})?await s({title:k},{title:"Made to-do title actionable",message:k}):y.hide()}async function f(y){await s({when:y},{title:y==="anytime"?"Removed date":"Scheduled to-do"})}async function l(y){await s({"list-id":y},{title:"Made to-do title actionable",message:"Moved to-do"})}async function A(y){await s({"add-tags":y},{title:"Added tag"})}async function x(y){await s({deadline:y===null?"":y},{title:y===null?"Removed deadline":"Set deadline"})}async function T(){let y=t.isProject,k=y?"Delete Project":"Delete To-Do",v=y?"Are you sure you want to delete this project?":"Are you sure you want to delete this to-do?",$=y?io:oo;await(0,p.confirmAlert)({title:k,message:v,icon:{source:p.Icon.Trash,tintColor:p.Color.Red}})&&(await $(t.id),k=y?"Deleted project":"Deleted to-do",await(0,p.showToast)({style:p.Toast.Style.Success,title:k,message:t.name}),e())}function M(y){let k=y.getFullYear(),v=String(y.getMonth()+1).padStart(2,"0"),$=String(y.getDate()).padStart(2,"0"),O=`${k}-${v}-${$}`;if(p.Action.PickDate.isFullDay(y))return O;let j=String(y.getHours()).padStart(2,"0"),q=String(y.getMinutes()).padStart(2,"0");return`${O}@${j}:${q}`}return(0,D.jsxs)(p.ActionPanel,{children:[(0,D.jsxs)(p.ActionPanel.Section,{title:t.name,children:[(0,D.jsx)(p.Action.OpenInBrowser,{title:"Open in Things",icon:"things-flat.png",url:`things:///show?id=${t.id}`}),t.status!=="completed"&&(0,D.jsx)(p.Action,{title:"Mark as Completed",icon:Xe.completed,onAction:async()=>{await yr(t.id,"status","completed"),await(0,p.showToast)({style:p.Toast.Style.Success,title:"Marked as Completed",message:t.name}),e()}}),t.status!=="canceled"&&(0,D.jsx)(p.Action,{title:"Mark as Canceled",icon:Xe.canceled,shortcut:{modifiers:["opt","cmd"],key:"k"},onAction:async()=>{await yr(t.id,"status","canceled"),await(0,p.showToast)({style:p.Toast.Style.Success,title:"Marked as Canceled",message:t.name}),e()}})]}),(0,D.jsxs)(p.ActionPanel.Section,{children:[(0,D.jsxs)(p.ActionPanel.Submenu,{title:"Schedule",icon:p.Icon.Calendar,shortcut:{modifiers:["cmd"],key:"s"},children:[(0,D.jsx)(p.Action,{...X.today,onAction:()=>f("today")}),(0,D.jsx)(p.Action,{...X.evening,onAction:()=>f("evening")}),(0,D.jsx)(p.Action,{...X.tomorrow,onAction:()=>f("tomorrow")}),(0,D.jsx)(p.Action.PickDate,{title:"Date\u2026",icon:p.Icon.Calendar,min:new Date,onChange:y=>f(y?M(y):"anytime"),type:p.Action.PickDate.Type.DateTime}),(0,D.jsx)(p.Action,{...X.someday,onAction:()=>f("someday")})]}),a&&a.length>0?(0,D.jsx)(p.ActionPanel.Submenu,{title:"Move to",icon:p.Icon.ArrowRight,shortcut:{modifiers:["cmd","shift"],key:"m"},children:a.map(y=>(0,uo.createElement)(p.Action,{...X.list(y),key:y.id,onAction:()=>l(y.id)}))}):null,(0,D.jsx)(p.Action.Push,{title:"Edit To-Do",icon:p.Icon.Pencil,shortcut:p.Keyboard.Shortcut.Common.Edit,target:(0,D.jsx)(xr,{todo:t,refreshTodos:e})}),o&&o.length>0?(0,D.jsx)(p.ActionPanel.Submenu,{title:"Add Tag",icon:p.Icon.Tag,shortcut:{modifiers:["cmd","shift"],key:"t"},children:o.map(y=>(0,D.jsx)(p.Action,{title:y,onAction:()=>A(y)},y))}):null,(0,D.jsx)(p.Action.PickDate,{title:"Set Deadline",icon:p.Icon.Flag,shortcut:{modifiers:["cmd","shift"],key:"d"},min:new Date,onChange:y=>x(y?M(y):null),type:p.Action.PickDate.Type.Date}),p.environment.canAccess(p.AI)&&(0,D.jsx)(p.Action,{title:"Generate Checklist with AI",icon:p.Icon.BulletPoints,shortcut:{modifiers:["cmd","shift"],key:"c"},onAction:u}),(0,D.jsx)(p.Action,{title:"Make To-Do Actionable with AI",icon:p.Icon.Text,shortcut:{modifiers:["cmd","shift"],key:"a"},onAction:d}),(0,D.jsx)(p.Action,{title:"Delete",icon:p.Icon.Trash,style:p.Action.Style.Destructive,shortcut:p.Keyboard.Shortcut.Common.Remove,onAction:T})]}),c&&(0,D.jsxs)(p.ActionPanel.Section,{children:[(0,D.jsx)(p.Action.OpenInBrowser,{title:"Open URL from Notes",url:c,shortcut:{modifiers:["cmd","shift"],key:"o"}}),(0,D.jsx)(p.Action.CopyToClipboard,{title:"Copy URL from Notes",content:c})]}),(0,D.jsxs)(p.ActionPanel.Section,{children:[(0,D.jsx)(p.Action.CopyToClipboard,{title:"Copy Formatted To-Do URL",content:{html:`<a href="things:///show?id=${t.id}" title="${t.name}">${t.name}</a>`,text:t.name},shortcut:p.Keyboard.Shortcut.Common.CopyPath}),(0,D.jsx)(p.Action.CopyToClipboard,{title:"Copy To-Do URL",content:`things:///show?id=${t.id}`}),(0,D.jsx)(p.Action.CopyToClipboard,{title:"Copy To-Do Title",content:t.name,shortcut:p.Keyboard.Shortcut.Common.CopyName}),(0,D.jsx)(p.Action.CopyToClipboard,{title:"Copy To-Do Notes",content:t.notes})]}),t.project&&(0,D.jsxs)(p.ActionPanel.Section,{title:t.project.name,children:[(0,D.jsx)(p.Action.OpenInBrowser,{title:"Open Project in Things",icon:"things-flat.png",shortcut:{modifiers:["cmd"],key:"o"},url:`things:///show?id=${t.project.id}`}),(0,D.jsx)(p.Action.CopyToClipboard,{title:"Copy Project URL",content:`things:///show?id=${t.project.id}`})]}),i&&(0,D.jsxs)(p.ActionPanel.Section,{title:i.name,children:[(0,D.jsx)(p.Action.OpenInBrowser,{title:"Open Area in Things",icon:"things-flat.png",shortcut:{modifiers:["opt"],key:"o"},url:`things:///show?id=${i.id.replace("THMAreaParentSource/","")}`}),(0,D.jsx)(p.Action.CopyToClipboard,{title:"Copy Area URL",content:`things:///show?id=${i.id.replace("THMAreaParentSource/","")}`})]}),(0,D.jsxs)(p.ActionPanel.Section,{title:`${wr(r)} List`,children:[(0,D.jsx)(p.Action.OpenInBrowser,{title:`Open ${wr(r)} List in Things`,icon:"things-flat.png",shortcut:{modifiers:["ctrl"],key:"o"},url:`things:///show?id=${r.toLowerCase()}`}),(0,D.jsx)(p.Action.Push,{title:"Add New To-Do",icon:p.Icon.Plus,shortcut:{modifiers:["cmd"],key:"n"},target:(0,D.jsx)(Dt,{commandListName:r})}),(0,D.jsx)(p.Action.CopyToClipboard,{title:"Copy List URL",content:`things:///show?id=${r.toLowerCase()}`})]}),(0,D.jsx)(p.ActionPanel.Section,{children:(0,D.jsx)(p.Action,{title:"Refresh",icon:p.Icon.ArrowClockwise,shortcut:{modifiers:["cmd"],key:"r"},onAction:e})})]})}var Tr=require("react/jsx-runtime"),hc=t=>{let e=(0,Pe.default)((0,Pe.default)().format("YYYY-MM-DD")).toISOString(),r=(0,Pe.default)(t).diff(e,"day"),n,a;return r<=-15||r>=15?n=(0,Pe.default)(t).format("D MMM"):r===0?(n="Due today",a=se.Color.Red):r>0&&r<=7?(n=`${r} day${r===1?"":"s"} left`,a=se.Color.Orange):r<0&&(n=`${-r} day${r===-1?"":"s"} ago`,a=se.Color.Red),{text:{value:n,color:a},icon:{source:se.Icon.Flag,tintColor:a},tooltip:`Due date: ${(0,Pe.default)(t).format("dddd DD MMMM YYYY")}`}};function Rt({todo:t,refreshTodos:e,commandListName:r,displayActivationDates:n,tags:a,lists:o}){let i=[t.name,...t.notes.split(" "),t.tags,t.project?.name??"",t.project?.tags??"",t.area?.name??"",t.project?.area?.name??""],c=[];if(t.tags&&c.push({icon:se.Icon.Tag,text:t.tags}),t.activationDate&&n){let s=new Date(t.activationDate);c.push({icon:se.Icon.Calendar,date:s,tooltip:`Start date: ${(0,Pe.default)(t.activationDate).format("dddd DD MMMM YYYY")}`})}return t.dueDate&&c.push(hc(t.dueDate)),(0,Tr.jsx)(se.List.Item,{title:t.name,subtitle:t.notes,icon:Xe[t.status],keywords:i,accessories:c,actions:(0,Tr.jsx)(Ar,{todo:t,refreshTodos:e,commandListName:r,lists:o,tags:a})},t.id)}var fe=require("react/jsx-runtime");function et({commandListName:t,displayActivationDates:e}){let{data:r}=be(()=>xt()),{data:n}=be(()=>At()),[a,o]=(0,fo.useState)(""),{data:i,isLoading:c,error:s,mutate:u}=be(f=>ao(f),[t]);if(s)return(0,fe.jsx)(Qe,{error:s,onRetry:()=>u()});if(!i&&!c)return(0,fe.jsx)(tt.Detail,{markdown:"## No Data\\n\\nNo to-dos found and no error occurred. This might indicate an issue with the Things connection."});let d=i?.reduce((f,l)=>{let A=l.project?.id||l.area?.id||"no-project-or-area";return f[A]||(f[A]={title:l.project?.name||l.area?.name,todos:[]}),f[A].todos.push(l),f},{})??{};return(0,fe.jsxs)(tt.List,{isLoading:c,searchBarPlaceholder:"Filter by name, notes, tags, project or area",onSearchTextChange:o,filtering:!0,children:[Object.entries(d).map(([f,l])=>f==="no-project-or-area"?l.todos.map(A=>(0,fe.jsx)(Rt,{todo:A,refreshTodos:u,commandListName:t,displayActivationDates:e,tags:r,lists:n},A.id)):(0,fe.jsx)(tt.List.Section,{title:l.title,subtitle:lo(l.todos.length,"to-do"),children:l.todos.map(A=>(0,fe.jsx)(Rt,{todo:A,refreshTodos:u,commandListName:t,tags:r,lists:n},A.id))},f)),(0,fe.jsx)(kr,{searchText:a,commandListName:t})]})}var po=require("react/jsx-runtime"),mc=()=>(0,po.jsx)(et,{commandListName:"inbox"}),yc=mc;
